(this["webpackJsonpfast-track-typescript-redux-template"]=this["webpackJsonpfast-track-typescript-redux-template"]||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=a(14),i=a(21),u=a(18),s=a(43),m=a(16),d=a(154),p=a(139),b=a(140),E=a(136),f=a(65),h=a(141),g=a(82),y=a.n(g),O=a(83),v=a.n(O),j=a(84),C=a.n(j),x={hazel:{color:"#8E7618 ",name:"Hazel"},red:{color:"#d3003f",name:"Utah Crimson"},blue:{color:"#000080",name:"Navy Blue"},yellow:{color:"#fcc200",name:"Golden Poppy"}},w=function(e){switch(e){case x.hazel.color:return x.hazel;case x.red.color:return x.red;case x.blue.color:return x.blue;case x.yellow.color:return x.yellow;default:return x.red}},N=r.a.createContext({theme:x.blue,switchTheme:function(e){}});function k(e){return{type:"TOGGLE_MENU",payload:{isMenuOpened:e}}}var I=a(158),T=a(35),R=a(134),_=a(162),H=Object(R.a)((function(e){return Object(_.a)({inputRoot:{color:"inherit"},inputInput:Object(T.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"50ch"})})}));function S(){var e=H(),t=Object(l.b)();return r.a.createElement(I.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return t({type:"HANDLE_INPUT_TO_SAGA",payload:{searchKey:e.target.value}})}})}var L=a(159),F=a(156),A=a(137),U=a(138),W=a(81),G=a.n(W),M=a(80),D=a.n(M),B=Object(R.a)((function(e){return Object(_.a)({cartCloseIcon:{display:"flex",justifyContent:"flex-end",paddingRight:20},cartContainer:{marginTop:20,display:"flex",minWidth:200,paddingLeft:20,alignItems:"center","&:hover":{textDecoration:"none",backgroundColor:"#f5f5f5"}},cartHeader:{paddingLeft:20,paddingBottom:10,minWidth:200},cartCountry:{display:"flex",alignItems:"center"},cartLink:{textDecoration:"none",color:"black"}})})),z=function(e){var t=e.anchorEl,a=e.isCartOpen,c=e.handleCartClose,o=B(),u=Object(l.c)((function(e){return e.countries.inCart})),s=Object(l.b)(),m=Object(n.useContext)(N).theme;return r.a.createElement(L.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},id:"shopping-cart",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:c},r.a.createElement(f.a,{component:"div"},r.a.createElement(F.a,{className:o.cartCloseIcon},r.a.createElement(E.a,{edge:"end","aria-label":"close cart","aria-controls":"close cart","aria-haspopup":"true",onClick:c,color:"inherit"},r.a.createElement(D.a,null))),r.a.createElement(F.a,{fontWeight:"fontWeightBold",fontSize:"h6.fontSize",className:o.cartHeader},1!==u.length?"Cart: ".concat(u.length," countries"):"Cart: 1 country"),r.a.createElement(A.a,null)),u.map((function(e){var t=e.flag,a=e.name;return r.a.createElement("li",{key:a,className:o.cartContainer},r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:9,className:o.cartCountry},r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(a),className:o.cartLink},r.a.createElement("img",{src:t,width:90,alt:t,style:{paddingRight:10}})),r.a.createElement(f.a,null,r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(a),className:o.cartLink,style:{paddingRight:20}},a))),r.a.createElement(U.a,{item:!0,xs:3,style:{display:"flex",alignItems:"center"}},r.a.createElement(E.a,{edge:"end","aria-label":"remove country from cart","aria-controls":"remove ".concat(a," from cart"),"aria-haspopup":"true",onClick:function(){return function(e){return s(function(e){return{type:"REMOVE_COUNTRY",payload:{name:e}}}(e))}(a)},color:"inherit"},r.a.createElement(G.a,{style:{fill:m.color}})))))})))},P=a(12),K=Object(R.a)((function(e){return Object(_.a)({grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(T.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(T.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(P.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(P.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})}));function Y(){var e=K(),t=Object(l.b)(),a=Object(n.useContext)(N).theme,c=Object(l.c)((function(e){return e.countries.inCart})),o=r.a.useState(null),u=Object(s.a)(o,2),m=u[0],d=u[1],g=Boolean(m);return r.a.createElement("div",{className:e.grow},r.a.createElement(p.a,{position:"fixed",style:{backgroundColor:a.color}},r.a.createElement(b.a,null,r.a.createElement(E.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(){return t(k(!0))}},r.a.createElement(y.a,null)),r.a.createElement(f.a,{className:e.title,variant:"h6",noWrap:!0},r.a.createElement(i.b,{to:"/react-redux-countries-app/",style:{textDecoration:"none",color:"inherit"}},"Countries")),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(v.a,null)),r.a.createElement(S,null)," "),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",null,r.a.createElement(E.a,{edge:"end","aria-label":"show cart","aria-controls":"shopping-cart","aria-haspopup":"true",onClick:function(e){return d(e.currentTarget)},color:"inherit"},r.a.createElement(h.a,{badgeContent:c.length,color:"secondary"},r.a.createElement(C.a,null)))))),r.a.createElement(z,{anchorEl:m,isCartOpen:g,handleCartClose:function(){return d(null)}}))}var J=a(28),V=a(112),$=a(143),q=a(144),Q=a(145),X=a(146),Z=a(147),ee=a(161),te=a(148),ae=a(149),ne=a(150),re=a(142),ce=Object(R.a)((function(e){return Object(_.a)({button:{width:100}})})),oe=function(e){var t=e.country,a=ce(),c=Object(l.b)(),o=Object(n.useContext)(N).theme,i=void 0!==Object(l.c)((function(e){return e.countries.inCart})).find((function(e){return e.name===t.name}))||!1;return r.a.createElement(re.a,{variant:"contained",color:"primary",className:a.button,onClick:function(){return c(function(e){return{type:"ADD_COUNTRY",payload:{country:e}}}(t))},disabled:i,style:{backgroundColor:o.color}},"Add")},le=Object(R.a)((function(e){return Object(_.a)({root:Object(T.a)({flexGrow:1},e.breakpoints.up("md"),{flexGrow:0}),paper:{padding:e.spacing(2),background:"#F9F9F9"},image:{width:150},img:{maxWidth:"100%",maxHeight:"100%"},table:{marginTop:65},tableHead:{fontWeight:"bolder"},countryName:{textDecoration:"none",color:"black",fontWeight:"bolder"},loading:{display:"flex",alignItems:"center",justifyContent:"center",height:"60vh"}})}));var ie=function(){var e=Object(l.c)((function(e){return e.countries.countries})),t=Object(l.c)((function(e){return e.countries.exception})),a=Object(l.c)((function(e){return e.ui.searchKey})),c=Object(n.useState)(!0),o=Object(s.a)(c,2),u=o[0],m=o[1],d=Object(n.useState)(e),p=Object(s.a)(d,2),b=p[0],E=p[1],h=Object(n.useContext)(N).theme,g=Object(l.b)();Object(n.useEffect)((function(){g({type:"FETCH_COUNTRIES_FROM_SAGA"})}),[g]),Object(n.useEffect)((function(){E(e)}),[e]),Object(n.useEffect)((function(){}),[u]);var y=function(){m(!u),b.reverse(),E(b)},O=le(),v=Object(J.a)(),j=Object(ae.a)(v.breakpoints.up("sm"));return r.a.createElement(r.a.Fragment,null,j?r.a.createElement($.a,{component:V.a},r.a.createElement(q.a,{className:O.table,"aria-label":"simple table"},r.a.createElement(Q.a,null,r.a.createElement(X.a,null,r.a.createElement(Z.a,{className:O.tableHead},"Flag"),r.a.createElement(Z.a,{className:O.tableHead},r.a.createElement(ee.a,{direction:u?"asc":"desc",onClick:y},"Name")),r.a.createElement(Z.a,{className:O.tableHead},"Languages"),r.a.createElement(Z.a,{className:O.tableHead},"Population"),r.a.createElement(Z.a,{className:O.tableHead},"Region"),r.a.createElement(Z.a,null))),r.a.createElement(te.a,null,b.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})).map((function(e){return r.a.createElement(X.a,{key:e.name},r.a.createElement(Z.a,{className:O.image},r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(e.name)},r.a.createElement("img",{className:O.img,src:e.flag,alt:e.name}))),r.a.createElement(Z.a,{component:"th",scope:"row"},r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(e.name),className:O.countryName},e.name)),r.a.createElement(Z.a,null,e.languages.map((function(e){var t=e.name;return r.a.createElement("li",{key:t},t)}))),r.a.createElement(Z.a,null,new Intl.NumberFormat("fi-FI",{useGrouping:!0}).format(e.population)),r.a.createElement(Z.a,null,e.region),r.a.createElement(Z.a,null,r.a.createElement(oe,{country:e})))}))))):r.a.createElement("div",{style:{marginTop:60}},b.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})).map((function(e){return r.a.createElement("div",{className:O.root,key:e.name},r.a.createElement(V.a,{className:O.paper},r.a.createElement(U.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(e.name),className:O.image},r.a.createElement("img",{className:O.img,src:e.flag,alt:e.name})),r.a.createElement(f.a,{variant:"h5"},r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(e.name),className:O.countryName,style:{color:h.color}},e.name)),r.a.createElement(f.a,{variant:"body1",style:{fontWeight:"bold"}},"Population"),r.a.createElement(f.a,{variant:"body1"},new Intl.NumberFormat("fi-FI",{useGrouping:!0}).format(e.population)),r.a.createElement(f.a,{variant:"body1",style:{fontWeight:"bold"}},"Languages"),r.a.createElement(f.a,{variant:"body1"},e.languages.map((function(e){return e.name})).join(", ")),r.a.createElement(f.a,{variant:"body1",style:{fontWeight:"bold"}},"Region"),r.a.createElement(f.a,{gutterBottom:!0,variant:"body1"},e.region),r.a.createElement(oe,{country:e}),r.a.createElement(A.a,null))))}))),t&&r.a.createElement("div",null,"Error occur"),e.length<1&&r.a.createElement("div",{className:O.loading},r.a.createElement(ne.a,{size:"5rem",style:{color:h.color},disableShrink:!0})))},ue=a(151),se=a(160),me=a(135),de=a(163),pe=a(152),be=a(153),Ee=a(85),fe=a.n(Ee),he=a(86),ge=a.n(he),ye=Object(R.a)((function(e){return Object(_.a)({root:{display:"flex"},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:300,flexShrink:0},drawerPaper:{width:300},drawerHeader:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"space-between"}),themeIcon:{padding:15,marginRight:10,color:"white",justifyContent:"center"}})}));function Oe(){var e=ye(),t=Object(J.a)(),a=Object(l.b)(),c=Object(l.c)((function(e){return e.ui.isMenuOpened})),o=Object(n.useContext)(N).switchTheme,i=function(){return a(k(!1))};return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement("div",{className:e.root},r.a.createElement(ue.a,{mouseEvent:"onMouseDown",touchEvent:"onTouchStart",onClickAway:i},r.a.createElement(se.a,{className:e.drawer,variant:"persistent",anchor:"left",open:c,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(f.a,{variant:"h6",style:{paddingLeft:20}},"SWITCH THEME"),r.a.createElement(E.a,{onClick:i},"ltr"===t.direction?r.a.createElement(fe.a,null):r.a.createElement(ge.a,null))),r.a.createElement(A.a,null),r.a.createElement(me.a,null,[x.hazel,x.red,x.blue,x.yellow].map((function(t){return r.a.createElement(de.a,{button:!0,key:t.color,onClick:function(){o(t.color)}},r.a.createElement(pe.a,{className:e.themeIcon,style:{backgroundColor:t.color}},t.name[0]),r.a.createElement(be.a,{primary:t.name}))})))))))}function ve(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null),r.a.createElement(Oe,null),r.a.createElement(Y,null),r.a.createElement(ie,null))}var je=a(155),Ce=Object(R.a)((function(){return{container:{color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},image:{width:250},img:{marginBottom:50,display:"block",maxWidth:200,maxHeight:"100%"}}}));function xe(){var e=Object(n.useContext)(N).theme,t=Object(m.g)().name,a=Object(m.f)(),c=Ce(),o=Object(l.c)((function(e){return e.countries.countries.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}));return o?r.a.createElement(je.a,{className:c.container,maxWidth:!1,style:{backgroundColor:e.color}},r.a.createElement("img",{className:c.img,src:o.flag,alt:o.name}),r.a.createElement(f.a,{variant:"h5"},o.name),r.a.createElement(f.a,{variant:"body1",style:{fontWeight:"bold"}},"Population"),r.a.createElement(f.a,{variant:"body1"},new Intl.NumberFormat("fi-FI",{useGrouping:!0}).format(o.population)),r.a.createElement(f.a,{variant:"body1",style:{fontWeight:"bold"}},"Languages"),r.a.createElement(f.a,{variant:"body1"},o.languages.map((function(e){return e.name})).join(", ")),r.a.createElement(f.a,{variant:"body1",style:{fontWeight:"bold"}},"Region"),r.a.createElement(f.a,{gutterBottom:!0,variant:"body1"},o.region),r.a.createElement(re.a,{variant:"contained",style:{backgroundColor:"white"},onClick:function(){return a.goBack()}},"Go back")):r.a.createElement("div",null,"Country not available")}var we=function(){return r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/react-redux-countries-app",component:ve}),r.a.createElement(m.a,{exact:!0,path:"/react-redux-countries-app/country/:name",component:xe}))};function Ne(){var e=Object(n.useState)({theme:x.red,switchTheme:function(e){c((function(t){return Object(u.a)(Object(u.a)({},t),{},{theme:w(e)})}))}}),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement(N.Provider,{value:a},r.a.createElement(we,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ke=a(30),Ie=a(89),Te=a(87),Re=a(44);var _e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inCart:[],countries:[],exception:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTRIES_SUCCEED":var a=t.payload.countries;return Object(u.a)(Object(u.a)({},e),{},{countries:Object(Re.a)(a)});case"FETCH_COUNTRIES_FAIL":var n=t.payload.exception;return Object(u.a)(Object(u.a)({},e),{},{exception:n});case"ADD_COUNTRY":var r=t.payload.country;return Object(u.a)(Object(u.a)({},e),{},{inCart:[].concat(Object(Re.a)(e.inCart),[r])});case"REMOVE_COUNTRY":var c=t.payload.name,o=e.inCart.filter((function(e){return e.name!==c}));return Object(u.a)(Object(u.a)({},e),{},{inCart:Object(Re.a)(o)});default:return e}};var He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchKey:"",isMenuOpened:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_COUNTRY":var a=t.payload.searchKey;return Object(u.a)(Object(u.a)({},e),{},{searchKey:a});case"TOGGLE_MENU":var n=t.payload.isMenuOpened;return Object(u.a)(Object(u.a)({},e),{},{isMenuOpened:n});default:return e}},Se=function(){return Object(ke.c)({countries:_e,ui:He})},Le=a(24),Fe=a.n(Le),Ae=a(32),Ue=a(88);function We(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(Ue.a)(Fe.a.mark((function e(){var t,a,n,r;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://restcountries.eu/rest/v2/all",e.next=3,caches.open("AllCountries");case 3:return n=e.sent,e.next=6,n.match(a);case 6:if((r=e.sent)&&r.ok){e.next=13;break}return e.next=10,n.add(a);case 10:return e.next=12,n.match(a);case 12:r=e.sent;case 13:return e.next=15,null===(t=r)||void 0===t?void 0:t.json();case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me=Fe.a.mark(De);function De(){var e;return Fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ae.b)(We);case 3:return(e=t.sent).sort((function(e,t){return e.name>t.name?1:-1})),t.next=7,Object(Ae.c)({type:"FETCH_COUNTRIES_SUCCEED",payload:{countries:e}});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(Ae.c)({type:"FETCH_COUNTRIES_FAIL",payload:{exception:t.t0}});case 13:case"end":return t.stop()}}),Me,null,[[0,9]])}var Be=[Object(Ae.d)("FETCH_COUNTRIES_FROM_SAGA",De)],ze=Fe.a.mark(Pe);function Pe(e){return Fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ae.c)({type:"SEARCH_COUNTRY",payload:{searchKey:e.payload.searchKey}});case 2:case"end":return t.stop()}}),ze)}var Ke=[Object(Ae.e)(1e3,"HANDLE_INPUT_TO_SAGA",Pe)],Ye=Fe.a.mark(Je);function Je(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.a)([].concat(Object(Re.a)(Be),Object(Re.a)(Ke)));case 2:case"end":return e.stop()}}),Ye)}var Ve={countries:{inCart:[],countries:[],exception:void 0},ui:{searchKey:"",isMenuOpened:!1}};var $e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=Object(Ie.a)(),a=[t,Te.a],n=ke.d,r=Object(ke.e)(Se(),e,n(ke.a.apply(void 0,a)));return t.run(Je),r}(),qe=function(){return r.a.createElement(l.a,{store:$e},r.a.createElement(i.a,null,r.a.createElement(Ne,null)))};o.a.render(r.a.createElement(qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,a){e.exports=a(109)}},[[97,1,2]]]);
//# sourceMappingURL=main.3f4f5ca5.chunk.js.map