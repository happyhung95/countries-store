{"version":3,"sources":["redux/actions/ui.ts","types.ts","context/index.tsx","components/SearchField/styles.ts","components/SearchField/SearchField.tsx","components/ShoppingCart/styles.ts","components/ShoppingCart/ShoppingCart.tsx","redux/actions/countries.ts","containers/NavBar/styles.ts","containers/NavBar/NavBar.tsx","components/AddButton/styles.ts","components/AddButton/AddButton.tsx","containers/CountriesList/styles.ts","containers/CountriesList/CountriesList.tsx","components/ThemeMenu/styles.ts","components/ThemeMenu/ThemeMenu.tsx","pages/Home.tsx","pages/Country/styles.ts","pages/Country/Country.tsx","Routes.tsx","App.tsx","serviceWorker.ts","redux/reducers/countries.ts","redux/reducers/ui.ts","redux/reducers/index.ts","redux/sagas/countries.ts","redux/sagas/ui.ts","redux/sagas/index.ts","redux/store.ts","index.tsx"],"names":["toggleMenuOpen","isMenuOpened","type","payload","themes","green","color","name","orange","blue","React","createContext","theme","switchTheme","useStyles","makeStyles","createStyles","inputRoot","inputInput","padding","spacing","paddingLeft","transition","transitions","create","width","breakpoints","up","SearchField","classes","dispatch","useDispatch","InputBase","placeholder","root","input","inputProps","onChange","event","searchKey","target","value","cartCloseIcon","display","justifyContent","paddingRight","cartContainer","marginTop","minWidth","alignItems","cartHeader","paddingBottom","cartCountry","flexWrap","ShoppingCart","anchorEl","isCartOpen","handleCartClose","inCart","useSelector","state","countries","useContext","ThemeContext","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","Typography","component","Box","className","IconButton","edge","aria-label","aria-controls","aria-haspopup","onClick","fontWeight","fontSize","length","Divider","map","index","flag","key","Grid","container","item","xs","src","alt","style","removeCountry","handleRemoveCountry","fill","grow","flexGrow","menuButton","marginRight","title","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","searchIcon","height","pointerEvents","NavBar","useState","setAnchorEl","Boolean","AppBar","Toolbar","variant","noWrap","currentTarget","Badge","badgeContent","button","AddButton","country","isDisabled","undefined","find","inCartCountry","Button","addCountry","disabled","paper","margin","background","image","img","maxWidth","maxHeight","table","countryName","textDecoration","CountriesList","ui","ascendingOrder","setSortOrder","useEffect","reverse","handleSort","themeMUI","useTheme","desktopView","useMediaQuery","TableContainer","Paper","Table","TableHead","TableRow","TableCell","align","TableSortLabel","direction","TableBody","filter","toLowerCase","includes","to","scope","languages","Intl","NumberFormat","useGrouping","format","population","region","language","join","gutterBottom","hide","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","themeIcon","ThemeMenu","Drawer","anchor","List","ListItem","ListItemIcon","ListItemText","primary","Home","CssBaseline","flexDirection","marginBottom","Country","useParams","history","useHistory","Container","goBack","Routes","exact","path","App","setContext","current","context","Provider","window","location","hostname","match","countriesReducer","exception","action","newInCart","uiReducer","createRootReducer","combineReducers","fetchCountries","call","getAllCountries","allCountries","sortedCountries","sort","a","b","put","URL","caches","cacheStorage","cacheResponse","ok","add","json","takeLatest","sendInputToReducer","throttle","rootSaga","all","countriesSagas","uiSagas","initState","store","initialState","sagaMiddleware","createSagaMiddleware","middlewares","thunk","composeEnhancers","compose","createStore","applyMiddleware","run","makeStore","WithProvider","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6a84b7da.chunk.js","sourcesContent":["import {\r\n  SEARCH_COUNTRY,\r\n  UiAction,\r\n  HANDLE_INPUT_TO_SAGA,\r\n  TOGGLE_MENU,\r\n} from './../../types'\r\n\r\nexport function searchCountry(searchKey: string): UiAction {\r\n  return {\r\n    type: SEARCH_COUNTRY,\r\n    payload: {\r\n      searchKey: searchKey,\r\n    },\r\n  }\r\n}\r\n\r\nexport function handleInputToSaga(searchKey: string): UiAction {\r\n  return {\r\n    type: HANDLE_INPUT_TO_SAGA,\r\n    payload: {\r\n      searchKey: searchKey,\r\n    },\r\n  }\r\n}\r\n\r\nexport function toggleMenuOpen(isMenuOpened: boolean): UiAction {\r\n  return {\r\n    type: TOGGLE_MENU,\r\n    payload: {\r\n      isMenuOpened: isMenuOpened,\r\n    },\r\n  }\r\n}\r\n","export const FETCH_COUNTRIES_FROM_SAGA = 'FETCH_COUNTRIES_FROM_SAGA'\r\nexport const FETCH_COUNTRIES_SUCCEED = 'FETCH_COUNTRIES_SUCCEED'\r\nexport const FETCH_COUNTRIES_FAIL = 'FETCH_COUNTRIES_FAIL'\r\nexport const HANDLE_INPUT_TO_SAGA = 'HANDLE_INPUT_TO_SAGA'\r\nexport const SEARCH_COUNTRY = 'SEARCH_COUNTRY'\r\nexport const ADD_COUNTRY = 'ADD_COUNTRY'\r\nexport const REMOVE_COUNTRY = 'REMOVE_COUNTRY'\r\nexport const TOGGLE_MENU = 'TOGGLE_MENU'\r\n\r\nexport type Country = {\r\n  name: string\r\n  flag: string\r\n  population: number\r\n  languages: { name: string }[]\r\n  region: string\r\n}\r\n\r\nexport type Exception = {\r\n  errorMessage: string\r\n}\r\n\r\nexport type FetchCountriesAction = {\r\n  type: typeof FETCH_COUNTRIES_FROM_SAGA\r\n}\r\n\r\nexport type FetchCountriesSucceedAction = {\r\n  type: typeof FETCH_COUNTRIES_SUCCEED\r\n  payload: {\r\n    countries: Country[]\r\n  }\r\n}\r\n\r\nexport type FetchCountriesFailAction = {\r\n  type: typeof FETCH_COUNTRIES_FAIL\r\n  payload: {\r\n    exception: Exception\r\n  }\r\n}\r\n\r\nexport type AddCountryAction = {\r\n  type: typeof ADD_COUNTRY\r\n  payload: {\r\n    country: Country\r\n  }\r\n}\r\n\r\nexport type RemoveCountryAction = {\r\n  type: typeof REMOVE_COUNTRY\r\n  payload: {\r\n    name: string\r\n  }\r\n}\r\n\r\nexport type SearchCountryAction = {\r\n  type: typeof SEARCH_COUNTRY\r\n  payload: {\r\n    searchKey: string\r\n  }\r\n}\r\n\r\nexport type HandleInputToSagaAction = {\r\n  type: typeof HANDLE_INPUT_TO_SAGA\r\n  payload: {\r\n    searchKey: string\r\n  }\r\n}\r\n\r\nexport type ToggleMenuAction = {\r\n  type: typeof TOGGLE_MENU\r\n  payload: {\r\n    isMenuOpened: boolean\r\n  }\r\n}\r\n\r\n\r\n// Use this union in reducer\r\nexport type UiAction = \r\n| SearchCountryAction\r\n| HandleInputToSagaAction\r\n| ToggleMenuAction\r\n\r\n\r\nexport type CountriesAction =\r\n  | FetchCountriesAction\r\n  | FetchCountriesSucceedAction\r\n  | FetchCountriesFailAction\r\n  | AddCountryAction\r\n  | RemoveCountryAction\r\n\r\n\r\n// Using dynamic keys from an enum\r\nexport type UiState = {\r\n  searchKey: string\r\n  isMenuOpened: boolean\r\n}\r\n\r\nexport type CountriesState = {\r\n  inCart: Country[]\r\n  countries: Country[]\r\n  exception?: Exception\r\n}\r\n\r\nexport type AppState = {\r\n  countries: CountriesState\r\n  ui: UiState\r\n}\r\n","import React from 'react'\n\nexport const themes = {\n  green: {\n    color: '#20B2AA',\n    name: 'Teal',\n  },\n  orange: {\n    color: '#ff9700',\n    name: 'Amber',\n  },\n  blue: {\n    color: '#407294',\n    name: 'Cerulean',\n  },\n}\n\nexport default React.createContext({\n  theme: themes.blue,\n  switchTheme: (name: string) => {},\n})\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\n\r\n// SearchField Component\r\n// from MUI\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    inputRoot: {\r\n      color: 'inherit',\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '50ch',\r\n      },\r\n    },\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport InputBase from '@material-ui/core/InputBase'\n\nimport { handleInputToSaga } from '../../redux/actions/ui'\nimport useStyles from './styles'\n\n// Detach SearchField Component from Navbar for easier code maintenance\n\nexport default function SearchField() {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const handleInput = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => dispatch(handleInputToSaga(event.target.value))\n\n  return (\n    <InputBase\n      placeholder=\"Search…\"\n      classes={{\n        root: classes.inputRoot,\n        input: classes.inputInput,\n      }}\n      inputProps={{ 'aria-label': 'search' }}\n      onChange={handleInput}\n    />\n  )\n}\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\n\r\n// ShoppingCart Component\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    cartCloseIcon: {\r\n      display: 'flex',\r\n      justifyContent: 'flex-end',\r\n      paddingRight: 20,\r\n    },\r\n    cartContainer: {\r\n      marginTop: 20,\r\n      display: 'flex',\r\n      minWidth: 200,\r\n      paddingLeft: 20,\r\n      alignItems: 'center',\r\n    },\r\n    cartHeader: {\r\n      paddingLeft: 20,\r\n      paddingBottom: 10,\r\n      minWidth: 200,\r\n    },\r\n    cartCountry: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      flexWrap: 'nowrap',\r\n    },\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React, { useContext } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport {\n  Menu,\n  Box,\n  Divider,\n  Grid,\n  IconButton,\n  Typography,\n} from '@material-ui/core'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport ThemeContext from '../../context'\nimport { AppState } from '../../types'\nimport { removeCountry } from '../../redux/actions/countries'\nimport useStyles from './styles'\n\ninterface Props {\n  anchorEl: HTMLElement | null\n  isCartOpen: boolean\n  handleCartClose: () => void\n}\n\nconst ShoppingCart: React.FC<Props> = ({\n  anchorEl,\n  isCartOpen,\n  handleCartClose,\n}) => {\n  const classes = useStyles()\n  const inCart = useSelector((state: AppState) => state.countries.inCart)\n  const dispatch = useDispatch()\n  const { theme } = useContext(ThemeContext)\n\n  const handleRemoveCountry = (name: string) => dispatch(removeCountry(name))\n\n  return (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id=\"shopping-cart\"\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isCartOpen}\n      onClose={handleCartClose}\n    >\n      <Typography component=\"div\">\n        <Box className={classes.cartCloseIcon}>\n          <IconButton\n            edge=\"end\"\n            aria-label=\"close cart\"\n            aria-controls={`close cart`}\n            aria-haspopup=\"true\"\n            onClick={handleCartClose}\n            color=\"inherit\"\n          >\n            <CloseIcon />\n          </IconButton>\n        </Box>\n        <Box\n          fontWeight=\"fontWeightBold\"\n          fontSize=\"h6.fontSize\"\n          className={classes.cartHeader}\n        >\n          {inCart.length !== 1\n            ? `Cart: ${inCart.length} countries`\n            : `Cart: 1 country`}\n        </Box>\n        <Divider />\n      </Typography>\n      {inCart.map(({ flag, name }, index) => (\n        <li key={index} className={classes.cartContainer}>\n          <Grid container>\n            <Grid item xs={9} className={classes.cartCountry}>\n              <img\n                src={flag}\n                width={90}\n                alt={flag}\n                style={{ paddingRight: 10 }}\n              />\n              <Typography>{name}</Typography>\n            </Grid>\n            <Grid item xs={3} style={{ paddingLeft: 10 }}>\n              <IconButton\n                edge=\"end\"\n                aria-label=\"remove country from cart\"\n                aria-controls={`remove ${name} from cart`}\n                aria-haspopup=\"true\"\n                onClick={() => handleRemoveCountry(name)}\n                color=\"inherit\"\n              >\n                <DeleteIcon style={{ fill: theme.color }} />\n              </IconButton>\n            </Grid>\n          </Grid>\n        </li>\n      ))}\n    </Menu>\n  )\n}\n\nexport default ShoppingCart\n","import {\r\n  FETCH_COUNTRIES_FROM_SAGA,\r\n  FETCH_COUNTRIES_SUCCEED,\r\n  FETCH_COUNTRIES_FAIL,\r\n  ADD_COUNTRY,\r\n  REMOVE_COUNTRY,\r\n  Country,\r\n  CountriesAction,\r\n  Exception,\r\n\r\n} from '../../types'\r\n\r\nexport function fetchCountriesFromSaga(): CountriesAction {\r\n  return {\r\n    type: FETCH_COUNTRIES_FROM_SAGA,\r\n  }\r\n}\r\n\r\nexport function fetchCountriesSucceed(countries: Country[]): CountriesAction {\r\n  return {\r\n    type: FETCH_COUNTRIES_SUCCEED,\r\n    payload: {\r\n      countries: countries,\r\n    },\r\n  }\r\n}\r\n\r\nexport function fetchCountriesFail(exception: Exception): CountriesAction {\r\n  return {\r\n    type: FETCH_COUNTRIES_FAIL,\r\n    payload: {\r\n      exception: exception,\r\n    },\r\n  }\r\n}\r\n\r\nexport function addCountry(country: Country): CountriesAction {\r\n  return {\r\n    type: ADD_COUNTRY,\r\n    payload: {\r\n      country: country,\r\n    },\r\n  }\r\n}\r\n\r\nexport function removeCountry(name: string): CountriesAction {\r\n  return {\r\n    type: REMOVE_COUNTRY,\r\n    payload: {\r\n      name: name,\r\n    },\r\n  }\r\n}\r\n\r\n\r\n\r\n","import { fade, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\n\r\n//NavBar Component\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('sm')]: {\r\n        display: 'block',\r\n      },\r\n    },\r\n    search: {\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: 0,\r\n      width: '100%',\r\n      [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing(3),\r\n        width: 'auto',\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React, { useContext } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Typography,\n  Badge,\n} from '@material-ui/core'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport SearchIcon from '@material-ui/icons/Search'\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart'\n\nimport ThemeContext from '../../context'\nimport { toggleMenuOpen } from '../../redux/actions'\nimport SearchField from '../../components/SearchField'\nimport ShoppingCart from '../../components/ShoppingCart'\nimport { AppState } from '../../types'\nimport useStyles from './styles'\n\n//MUI component\n\nexport default function NavBar() {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const { theme } = useContext(ThemeContext)\n  const inCart = useSelector((state: AppState) => state.countries.inCart)\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n  const isCartOpen = Boolean(anchorEl)\n\n  const handleCartOpen = (event: React.MouseEvent<HTMLElement>) =>\n    setAnchorEl(event.currentTarget)\n\n  const handleCartClose = () => setAnchorEl(null)\n\n  const handleMenuOpen = () => dispatch(toggleMenuOpen(true))\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"fixed\" style={{ backgroundColor: theme.color }}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n          >\n            <MenuIcon onClick={handleMenuOpen} />\n          </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            Countries\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <SearchField /> {/* Custom component modified from MUI */}\n          </div>\n          <div className={classes.grow} />\n          <div>\n            <IconButton\n              edge=\"end\"\n              aria-label=\"show cart\"\n              aria-controls=\"shopping-cart\"\n              aria-haspopup=\"true\"\n              onClick={handleCartOpen}\n              color=\"inherit\"\n            >\n              <Badge badgeContent={inCart.length} color=\"secondary\">\n                <ShoppingCartIcon />\n              </Badge>\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <ShoppingCart\n        anchorEl={anchorEl}\n        isCartOpen={isCartOpen}\n        handleCartClose={handleCartClose}\n      />\n    </div>\n  )\n}\n","import { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\r\n\r\n// AddButton Component\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    button: {\r\n      width: 100,\r\n    },\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React, { useContext } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Button from '@material-ui/core/Button'\n\nimport ThemeContext from '../../context'\nimport { Country, AppState } from '../../types'\nimport { addCountry } from '../../redux/actions/countries'\nimport useStyles from './styles'\n\nconst AddButton: React.FC<{ country: Country }> = ({ country }) => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const { theme } = useContext(ThemeContext)\n\n  const inCart = useSelector((state: AppState) => state.countries.inCart)\n\n  let isDisabled =\n    inCart.find((inCartCountry) => inCartCountry.name === country.name) !==\n      undefined || false // return true if there's match\n\n  const handleClick = () => dispatch(addCountry(country))\n\n  return (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      className={classes.button}\n      onClick={handleClick}\n      disabled={isDisabled}\n      style={{ backgroundColor: theme.color }}\n    >\n      Add\n    </Button>\n  )\n}\n\nexport default AddButton\n","import { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\r\n\r\n// CountriesList Component\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n      [theme.breakpoints.up('md')]: {},\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      margin: 'auto',\r\n      background: '#F9F9F9',\r\n    },\r\n    image: {\r\n      width: 150,\r\n    },\r\n    img: {\r\n      margin: 'auto',\r\n      display: 'block',\r\n      maxWidth: '100%',\r\n      maxHeight: '100%',\r\n    },\r\n\r\n    table: {\r\n      marginTop: 65,\r\n    },\r\n    countryName: {\r\n      textDecoration: 'none',\r\n      color: 'black',\r\n      fontWeight: 'bolder',\r\n    }\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { useTheme } from '@material-ui/core/styles'\nimport {\n  useMediaQuery,\n  Grid,\n  Paper,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TableSortLabel,\n} from '@material-ui/core'\n\nimport AddButton from '../../components/AddButton'\nimport ThemeContext from '../../context'\nimport { AppState } from '../../types'\nimport useStyles from './styles'\n\nfunction CountriesList() {\n  // countries is already sorted in the saga\n  let countries = useSelector((state: AppState) => state.countries.countries)\n  const searchKey = useSelector((state: AppState) => state.ui.searchKey)\n  const [ascendingOrder, setSortOrder] = useState(true)\n  const { theme } = useContext(ThemeContext)\n\n  useEffect(() => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    countries = countries.reverse()\n  }, [ascendingOrder, countries])\n\n  const handleSort = () => setSortOrder(!ascendingOrder)\n\n  const classes = useStyles()\n\n  const renderMobile = () => (\n    <div style={{ marginTop: 60 }}>\n      {countries\n        .filter(({ name }) =>\n          name.toLowerCase().includes(searchKey.toLowerCase())\n        )\n        .map((country, index) => (\n          <div className={classes.root} key={index}>\n            <Paper className={classes.paper}>\n              <Grid container direction=\"column\" alignItems=\"center\">\n                <Link to={`/country/${country.name}`} className={classes.image}>\n                  <img\n                    className={classes.img}\n                    src={country.flag}\n                    alt={country.name}\n                  />\n                </Link>\n                <Typography variant=\"h5\">\n                  <Link\n                    to={`/country/${country.name}`}\n                    className={classes.countryName}\n                    style={{ color: theme.color }}\n                  >\n                    {country.name}\n                  </Link>\n                </Typography>\n                <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n                  Population\n                </Typography>\n                <Typography variant=\"body1\">\n                  {new Intl.NumberFormat('fi-FI', { useGrouping: true }).format(\n                    country.population\n                  )}\n                </Typography>\n                <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n                  Languages\n                </Typography>\n                <Typography variant=\"body1\">\n                  {country.languages\n                    .map((language) => language.name)\n                    .join(', ')}\n                </Typography>\n                <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n                  Region\n                </Typography>\n                <Typography gutterBottom variant=\"body1\">\n                  {country.region}\n                </Typography>\n                <AddButton country={country} />\n              </Grid>\n            </Paper>\n          </div>\n        ))}\n    </div>\n  )\n\n  const renderDesktop = () => (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Flag</TableCell>\n            <TableCell align=\"left\">\n              <TableSortLabel\n                direction={ascendingOrder ? 'asc' : 'desc'}\n                onClick={handleSort}\n              >\n                Name\n              </TableSortLabel>\n            </TableCell>\n            <TableCell align=\"left\">Languages</TableCell>\n            <TableCell align=\"right\">Population</TableCell>\n            <TableCell align=\"left\">Region</TableCell>\n            <TableCell>{/*button column */}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {countries\n            .filter(({ name }) =>\n              name.toLowerCase().includes(searchKey.toLowerCase())\n            )\n            .map((country, index) => (\n              <TableRow key={index}>\n                <TableCell align=\"right\" className={classes.image}>\n                  <Link to={`/country/${country.name}`}>\n                    <img\n                      className={classes.img}\n                      src={country.flag}\n                      alt={country.name}\n                    />\n                  </Link>\n                </TableCell>\n                <TableCell component=\"th\" scope=\"row\">\n                  <Link\n                    to={`/country/${country.name}`}\n                    className={classes.countryName}\n                  >\n                    {country.name}\n                  </Link>\n                </TableCell>\n                <TableCell align=\"left\">\n                  {country.languages.map(({ name }, index) => (\n                    <li key={index}>{name}</li>\n                  ))}\n                </TableCell>\n                <TableCell align=\"right\">\n                  {new Intl.NumberFormat('fi-FI', { useGrouping: true }).format(\n                    country.population\n                  )}\n                </TableCell>\n                <TableCell align=\"left\">{country.region}</TableCell>\n                <TableCell align=\"left\">\n                  <AddButton country={country} />\n                </TableCell>\n              </TableRow>\n            ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n\n  // Responsive render\n  const themeMUI = useTheme()\n  const desktopView = useMediaQuery(themeMUI.breakpoints.up('sm')) // min view width = 600px\n\n  return <>{desktopView ? renderDesktop() : renderMobile()}</>\n}\n\nexport default CountriesList\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\n//Drawer Component\n\nconst drawerWidth = 300\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    hide: {\n      display: 'none',\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: drawerWidth,\n    },\n    drawerHeader: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0, 1),\n      // necessary for content to be below app bar\n      ...theme.mixins.toolbar,\n      justifyContent: 'space-between',\n    },\n    themeIcon: {\n      padding: 15,\n      marginRight: 10,\n      color: 'white',\n      justifyContent: 'center',\n    },\n  })\n)\n\nexport default useStyles\n","import React, { useContext } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport {\n  Typography,\n  Drawer,\n  List,\n  Divider,\n  IconButton,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight'\nimport { useTheme } from '@material-ui/core/styles'\n\nimport { AppState } from '../../types'\nimport { toggleMenuOpen } from '../../redux/actions/ui'\nimport ThemeContext, { themes } from '../../context'\nimport useStyles from './styles'\n\nexport default function ThemeMenu() {\n  const classes = useStyles()\n  const theme = useTheme()\n  const dispatch = useDispatch()\n  let open = useSelector((state: AppState) => state.ui.isMenuOpened)\n\n  const { switchTheme } = useContext(ThemeContext)\n\n  const handleMenuClose = () => dispatch(toggleMenuOpen(false))\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n        <div className={classes.drawerHeader}>\n          <Typography variant=\"h6\" style={{ paddingLeft: 20 }}>\n            SWITCH THEME\n          </Typography>\n          <IconButton onClick={handleMenuClose}>\n            {theme.direction === 'ltr' ? (\n              <ChevronLeftIcon />\n            ) : (\n              <ChevronRightIcon />\n            )}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          {[themes.blue, themes.orange, themes.green].map((theme, index) => (\n            <ListItem\n              button\n              key={index}\n              onClick={() => {\n                switchTheme(theme.color)\n              }}\n            >\n              <ListItemIcon\n                className={classes.themeIcon}\n                style={{ backgroundColor: theme.color }}\n              >\n                {theme.name[0]}\n              </ListItemIcon>\n              <ListItemText primary={theme.name} />\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n    </div>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { CssBaseline } from '@material-ui/core'\n\nimport { fetchCountriesFromSaga } from '../redux/actions'\nimport NavBar from '../containers/NavBar'\nimport CountriesList from '../containers/CountriesList'\nimport ThemeMenu from '../components/ThemeMenu'\n\nexport default function Home() {\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(fetchCountriesFromSaga())\n  })\n\n  return (\n    <>\n      <CssBaseline />\n      <ThemeMenu />\n      <NavBar />\n      <CountriesList />\n    </>\n  )\n}\n","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    color: 'white',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    width: 250,\r\n  },\r\n  img: {\r\n    marginBottom: 50,\r\n    display: 'block',\r\n    maxWidth: 200,\r\n    maxHeight: '100%',\r\n  },\r\n}))\r\n\r\nexport default useStyles\r\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\n\nimport { Typography, Container, Button } from '@material-ui/core'\n\nimport ThemeContext from '../../context'\nimport { AppState } from '../../types'\nimport useStyles from './styles'\n\nexport default function Country() {\n  const { theme } = useContext(ThemeContext)\n  const { name } = useParams()\n  const history = useHistory()\n  const classes = useStyles()\n\n  const country = useSelector((state: AppState) =>\n    state.countries.countries.find(\n      (country) => country.name.toLowerCase() === name.toLowerCase()\n    )\n  )\n  if (!country) {\n    return <div>Country not available</div>\n  }\n  return (\n    <Container\n      className={classes.container}\n      maxWidth={false}\n      style={{ backgroundColor: theme.color }}\n    >\n      <img className={classes.img} src={country.flag} alt={country.name} />\n      <Typography variant=\"h5\">{country.name}</Typography>\n      <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n        Population\n      </Typography>\n      <Typography variant=\"body1\">\n        {new Intl.NumberFormat('fi-FI', { useGrouping: true }).format(\n          country.population\n        )}\n      </Typography>\n      <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n        Languages\n      </Typography>\n      <Typography variant=\"body1\">\n        {country.languages.map((language) => language.name).join(', ')}\n      </Typography>\n      <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n        Region\n      </Typography>\n      <Typography gutterBottom variant=\"body1\">\n        {country.region}\n      </Typography>\n      <Button\n        variant=\"contained\"\n        style={{ backgroundColor: 'white' }}\n        onClick={() => history.goBack()}\n      >\n        Go back\n      </Button>\n    </Container>\n  )\n}\n","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\n\r\nimport Home from './pages/Home'\r\nimport Country from './pages/Country/Country'\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <Route exact path=\"/\" component={Home} />\r\n    <Route exact path=\"/country/:name\" component={Country} />\r\n  </Switch>\r\n)\r\n\r\nexport default Routes\r\n","import React, { useState } from 'react'\r\n\r\nimport Routes from './Routes'\r\nimport ThemeContext, { themes } from './context'\r\n\r\nexport default function App() {\r\n  const [context, setContext] = useState({\r\n    theme: themes.blue,\r\n    switchTheme: (color: string) => {\r\n      setContext((current) => ({\r\n        ...current,\r\n        theme:\r\n          color === themes.blue.color\r\n            ? themes.blue\r\n            : color === themes.green.color\r\n              ? themes.green\r\n              : themes.orange,\r\n      }))\r\n    },\r\n  })\r\n\r\n  return (\r\n    <ThemeContext.Provider value={context}>\r\n      <Routes />\r\n    </ThemeContext.Provider>\r\n  )\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import {\r\n  CountriesAction,\r\n  CountriesState,\r\n  FETCH_COUNTRIES_SUCCEED,\r\n  FETCH_COUNTRIES_FAIL,\r\n  ADD_COUNTRY,\r\n  REMOVE_COUNTRY,\r\n} from '../../types'\r\n\r\nfunction countriesReducer(\r\n  state: CountriesState = {\r\n    inCart: [],\r\n    countries: [],\r\n    exception: undefined,\r\n  },\r\n  action: CountriesAction\r\n): CountriesState {\r\n  switch (action.type) {\r\n    \r\n  case FETCH_COUNTRIES_SUCCEED: {\r\n    const { countries } = action.payload\r\n    return { ...state, countries: [...countries] }\r\n  }\r\n\r\n  case FETCH_COUNTRIES_FAIL: {\r\n    const { exception } = action.payload\r\n    return { ...state, exception: exception }\r\n  }\r\n\r\n  case ADD_COUNTRY: {\r\n    const { country } = action.payload\r\n    return { ...state, inCart: [...state.inCart, country] }\r\n  }\r\n\r\n  case REMOVE_COUNTRY: {\r\n    const { name } = action.payload\r\n    // filter out the country from inCart\r\n    const newInCart = state.inCart.filter(country => country.name !== name )\r\n    return { ...state, inCart: [...newInCart] }\r\n  }\r\n\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default countriesReducer\r\n","import { UiState, UiAction, SEARCH_COUNTRY, TOGGLE_MENU } from './../../types'\r\n\r\nfunction uiReducer(\r\n  state: UiState = {\r\n    searchKey: '',\r\n    isMenuOpened: false,\r\n  },\r\n  action: UiAction\r\n): UiState {\r\n  switch (action.type) {\r\n  case SEARCH_COUNTRY: {\r\n    const { searchKey } = action.payload\r\n    return { ...state, searchKey: searchKey }\r\n  }\r\n  case TOGGLE_MENU: {\r\n    const { isMenuOpened } = action.payload\r\n    return { ...state, isMenuOpened: isMenuOpened }\r\n  }\r\n\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default uiReducer\r\n","import { combineReducers } from 'redux'\r\n\r\nimport countriesReducer from './countries'\r\nimport uiReducer from './ui'\r\n\r\nconst createRootReducer = () =>\r\n  combineReducers({\r\n    countries: countriesReducer,\r\n    ui: uiReducer\r\n  })\r\n\r\nexport default createRootReducer\r\n","import { takeLatest, call, put } from 'redux-saga/effects'\r\n\r\nimport { FETCH_COUNTRIES_FROM_SAGA, Country } from './../../types'\r\nimport { fetchCountriesSucceed, fetchCountriesFail } from '../actions'\r\n\r\nfunction* fetchCountries() {\r\n  try {\r\n    const allCountries: Country[] = yield call(getAllCountries)\r\n    // sort name in ascending order\r\n    const sortedCountries = allCountries.sort((a,b) => (a.name > b.name)? 1: -1) \r\n    yield put(fetchCountriesSucceed(sortedCountries))\r\n  } catch (exception) {\r\n    yield put(fetchCountriesFail(exception))\r\n  }\r\n}\r\n\r\nasync function getAllCountries() {\r\n  const URL = 'https://restcountries.eu/rest/v2/all'\r\n  const cacheStorage = await caches.open('AllCountries')\r\n  let cacheResponse = await cacheStorage.match(URL)\r\n\r\n  if (!cacheResponse || !cacheResponse.ok) {\r\n    await cacheStorage.add(URL)\r\n    cacheResponse = await cacheStorage.match(URL)\r\n  }\r\n\r\n  return await cacheResponse?.json()\r\n}\r\n\r\nexport default [takeLatest(FETCH_COUNTRIES_FROM_SAGA, fetchCountries)]\r\n","import { put, throttle } from 'redux-saga/effects'\r\n\r\nimport { searchCountry } from '../actions'\r\nimport { HANDLE_INPUT_TO_SAGA, HandleInputToSagaAction } from './../../types'\r\n\r\nfunction* sendInputToReducer(action: HandleInputToSagaAction) {\r\n  yield put(searchCountry(action.payload.searchKey))\r\n}\r\n\r\n// only send dispatch every 1 second, ignore everything in the meantime\r\nexport default [throttle(1000, HANDLE_INPUT_TO_SAGA, sendInputToReducer)]\r\n","import { all } from 'redux-saga/effects'\r\n\r\nimport countriesSagas from './countries'\r\nimport uiSagas from './ui'\r\n\r\nexport default function* rootSaga() {\r\n  yield all([...countriesSagas, ...uiSagas])\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport { AppState } from '../types'\r\nimport createRootReducer from './reducers'\r\nimport rootSaga from './sagas'\r\n\r\nconst initState: AppState = {\r\n  countries: {\r\n    inCart: [],\r\n    countries: [],\r\n    exception: undefined\r\n  },\r\n  ui: {\r\n    searchKey: '',\r\n    isMenuOpened: false,\r\n  }\r\n}\r\n\r\nexport default function makeStore(initialState = initState) {\r\n  const sagaMiddleware = createSagaMiddleware()\r\n  const middlewares = [sagaMiddleware, thunk]\r\n  let composeEnhancers = compose\r\n\r\n  if (process.env.NODE_ENV === 'development') {\r\n    if ((window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\r\n      composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    }\r\n  }\r\n\r\n  const store = createStore(\r\n    createRootReducer(),\r\n    initialState,\r\n    composeEnhancers(applyMiddleware(...middlewares))\r\n  )\r\n\r\n  sagaMiddleware.run(rootSaga)\r\n\r\n  if ((module as any).hot) {\r\n    ;(module as any).hot.accept('./reducers', () => {\r\n      const nextReducer = require('./reducers').default\r\n      store.replaceReducer(nextReducer)\r\n    })\r\n  }\r\n\r\n  return store\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport makeStore from './redux/store'\r\n\r\nconst store = makeStore()\r\n\r\nconst WithProvider = () => (\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>\r\n)\r\n\r\nReactDOM.render(<WithProvider />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}