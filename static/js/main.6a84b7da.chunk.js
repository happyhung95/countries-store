(this["webpackJsonpfast-track-typescript-redux-template"]=this["webpackJsonpfast-track-typescript-redux-template"]||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=a(14),i=a(35),u=a(17),s=a(47),m=a(15),p=a(152);function d(e){return{type:"TOGGLE_MENU",payload:{isMenuOpened:e}}}var b=a(139),g=a(140),f=a(136),E=a(65),h=a(141),O=a(82),y=a.n(O),v=a(83),j=a.n(v),C=a(84),w=a.n(C),x={green:{color:"#20B2AA",name:"Teal"},orange:{color:"#ff9700",name:"Amber"},blue:{color:"#407294",name:"Cerulean"}},N=r.a.createContext({theme:x.blue,switchTheme:function(e){}}),k=a(156),T=a(34),I=a(134),R=a(160),_=Object(I.a)((function(e){return Object(R.a)({inputRoot:{color:"inherit"},inputInput:Object(T.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"50ch"})})}));function F(){var e=_(),t=Object(l.b)();return r.a.createElement(k.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return t({type:"HANDLE_INPUT_TO_SAGA",payload:{searchKey:e.target.value}})}})}var L=a(157),S=a(154),A=a(137),W=a(138),H=a(81),U=a.n(H),G=a(80),M=a.n(G),B=Object(I.a)((function(e){return Object(R.a)({cartCloseIcon:{display:"flex",justifyContent:"flex-end",paddingRight:20},cartContainer:{marginTop:20,display:"flex",minWidth:200,paddingLeft:20,alignItems:"center"},cartHeader:{paddingLeft:20,paddingBottom:10,minWidth:200},cartCountry:{display:"flex",alignItems:"center",flexWrap:"nowrap"}})})),D=function(e){var t=e.anchorEl,a=e.isCartOpen,c=e.handleCartClose,o=B(),i=Object(l.c)((function(e){return e.countries.inCart})),u=Object(l.b)(),s=Object(n.useContext)(N).theme;return r.a.createElement(L.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},id:"shopping-cart",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:c},r.a.createElement(E.a,{component:"div"},r.a.createElement(S.a,{className:o.cartCloseIcon},r.a.createElement(f.a,{edge:"end","aria-label":"close cart","aria-controls":"close cart","aria-haspopup":"true",onClick:c,color:"inherit"},r.a.createElement(M.a,null))),r.a.createElement(S.a,{fontWeight:"fontWeightBold",fontSize:"h6.fontSize",className:o.cartHeader},1!==i.length?"Cart: ".concat(i.length," countries"):"Cart: 1 country"),r.a.createElement(A.a,null)),i.map((function(e,t){var a=e.flag,n=e.name;return r.a.createElement("li",{key:t,className:o.cartContainer},r.a.createElement(W.a,{container:!0},r.a.createElement(W.a,{item:!0,xs:9,className:o.cartCountry},r.a.createElement("img",{src:a,width:90,alt:a,style:{paddingRight:10}}),r.a.createElement(E.a,null,n)),r.a.createElement(W.a,{item:!0,xs:3,style:{paddingLeft:10}},r.a.createElement(f.a,{edge:"end","aria-label":"remove country from cart","aria-controls":"remove ".concat(n," from cart"),"aria-haspopup":"true",onClick:function(){return function(e){return u(function(e){return{type:"REMOVE_COUNTRY",payload:{name:e}}}(e))}(n)},color:"inherit"},r.a.createElement(U.a,{style:{fill:s.color}})))))})))},P=a(12),K=Object(I.a)((function(e){return Object(R.a)({grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(T.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(T.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(P.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(P.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})}));function Y(){var e=K(),t=Object(l.b)(),a=Object(n.useContext)(N).theme,c=Object(l.c)((function(e){return e.countries.inCart})),o=r.a.useState(null),i=Object(s.a)(o,2),u=i[0],m=i[1],p=Boolean(u);return r.a.createElement("div",{className:e.grow},r.a.createElement(b.a,{position:"fixed",style:{backgroundColor:a.color}},r.a.createElement(g.a,null,r.a.createElement(f.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(y.a,{onClick:function(){return t(d(!0))}})),r.a.createElement(E.a,{className:e.title,variant:"h6",noWrap:!0},"Countries"),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(j.a,null)),r.a.createElement(F,null)," "),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",null,r.a.createElement(f.a,{edge:"end","aria-label":"show cart","aria-controls":"shopping-cart","aria-haspopup":"true",onClick:function(e){return m(e.currentTarget)},color:"inherit"},r.a.createElement(h.a,{badgeContent:c.length,color:"secondary"},r.a.createElement(w.a,null)))))),r.a.createElement(D,{anchorEl:u,isCartOpen:p,handleCartClose:function(){return m(null)}}))}var z=a(26),J=a(112),V=a(143),$=a(144),q=a(145),Q=a(146),X=a(147),Z=a(159),ee=a(148),te=a(149),ae=a(142),ne=Object(I.a)((function(e){return Object(R.a)({button:{width:100}})})),re=function(e){var t=e.country,a=ne(),c=Object(l.b)(),o=Object(n.useContext)(N).theme,i=void 0!==Object(l.c)((function(e){return e.countries.inCart})).find((function(e){return e.name===t.name}))||!1;return r.a.createElement(ae.a,{variant:"contained",color:"primary",className:a.button,onClick:function(){return c(function(e){return{type:"ADD_COUNTRY",payload:{country:e}}}(t))},disabled:i,style:{backgroundColor:o.color}},"Add")},ce=Object(I.a)((function(e){return Object(R.a)({root:Object(T.a)({flexGrow:1},e.breakpoints.up("md"),{}),paper:{padding:e.spacing(2),margin:"auto",background:"#F9F9F9"},image:{width:150},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},table:{marginTop:65},countryName:{textDecoration:"none",color:"black",fontWeight:"bolder"}})}));var oe=function(){var e=Object(l.c)((function(e){return e.countries.countries})),t=Object(l.c)((function(e){return e.ui.searchKey})),a=Object(n.useState)(!0),c=Object(s.a)(a,2),o=c[0],u=c[1],m=Object(n.useContext)(N).theme;Object(n.useEffect)((function(){e=e.reverse()}),[o,e]);var p=function(){return u(!o)},d=ce(),b=Object(z.a)(),g=Object(te.a)(b.breakpoints.up("sm"));return r.a.createElement(r.a.Fragment,null,g?r.a.createElement(V.a,{component:J.a},r.a.createElement($.a,{className:d.table,"aria-label":"simple table"},r.a.createElement(q.a,null,r.a.createElement(Q.a,null,r.a.createElement(X.a,null,"Flag"),r.a.createElement(X.a,{align:"left"},r.a.createElement(Z.a,{direction:o?"asc":"desc",onClick:p},"Name")),r.a.createElement(X.a,{align:"left"},"Languages"),r.a.createElement(X.a,{align:"right"},"Population"),r.a.createElement(X.a,{align:"left"},"Region"),r.a.createElement(X.a,null))),r.a.createElement(ee.a,null,e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e,t){return r.a.createElement(Q.a,{key:t},r.a.createElement(X.a,{align:"right",className:d.image},r.a.createElement(i.b,{to:"/country/".concat(e.name)},r.a.createElement("img",{className:d.img,src:e.flag,alt:e.name}))),r.a.createElement(X.a,{component:"th",scope:"row"},r.a.createElement(i.b,{to:"/country/".concat(e.name),className:d.countryName},e.name)),r.a.createElement(X.a,{align:"left"},e.languages.map((function(e,t){var a=e.name;return r.a.createElement("li",{key:t},a)}))),r.a.createElement(X.a,{align:"right"},new Intl.NumberFormat("fi-FI",{useGrouping:!0}).format(e.population)),r.a.createElement(X.a,{align:"left"},e.region),r.a.createElement(X.a,{align:"left"},r.a.createElement(re,{country:e})))}))))):r.a.createElement("div",{style:{marginTop:60}},e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e,t){return r.a.createElement("div",{className:d.root,key:t},r.a.createElement(J.a,{className:d.paper},r.a.createElement(W.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(i.b,{to:"/country/".concat(e.name),className:d.image},r.a.createElement("img",{className:d.img,src:e.flag,alt:e.name})),r.a.createElement(E.a,{variant:"h5"},r.a.createElement(i.b,{to:"/country/".concat(e.name),className:d.countryName,style:{color:m.color}},e.name)),r.a.createElement(E.a,{variant:"body1",style:{fontWeight:"bold"}},"Population"),r.a.createElement(E.a,{variant:"body1"},new Intl.NumberFormat("fi-FI",{useGrouping:!0}).format(e.population)),r.a.createElement(E.a,{variant:"body1",style:{fontWeight:"bold"}},"Languages"),r.a.createElement(E.a,{variant:"body1"},e.languages.map((function(e){return e.name})).join(", ")),r.a.createElement(E.a,{variant:"body1",style:{fontWeight:"bold"}},"Region"),r.a.createElement(E.a,{gutterBottom:!0,variant:"body1"},e.region),r.a.createElement(re,{country:e}))))}))))},le=a(158),ie=a(135),ue=a(161),se=a(150),me=a(151),pe=a(85),de=a.n(pe),be=a(86),ge=a.n(be),fe=Object(I.a)((function(e){return Object(R.a)({root:{display:"flex"},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:300,flexShrink:0},drawerPaper:{width:300},drawerHeader:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"space-between"}),themeIcon:{padding:15,marginRight:10,color:"white",justifyContent:"center"}})}));function Ee(){var e=fe(),t=Object(z.a)(),a=Object(l.b)(),c=Object(l.c)((function(e){return e.ui.isMenuOpened})),o=Object(n.useContext)(N).switchTheme;return r.a.createElement("div",{className:e.root},r.a.createElement(le.a,{className:e.drawer,variant:"persistent",anchor:"left",open:c,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(E.a,{variant:"h6",style:{paddingLeft:20}},"SWITCH THEME"),r.a.createElement(f.a,{onClick:function(){return a(d(!1))}},"ltr"===t.direction?r.a.createElement(de.a,null):r.a.createElement(ge.a,null))),r.a.createElement(A.a,null),r.a.createElement(ie.a,null,[x.blue,x.orange,x.green].map((function(t,a){return r.a.createElement(ue.a,{button:!0,key:a,onClick:function(){o(t.color)}},r.a.createElement(se.a,{className:e.themeIcon,style:{backgroundColor:t.color}},t.name[0]),r.a.createElement(me.a,{primary:t.name}))})))))}function he(){var e=Object(l.b)();return Object(n.useEffect)((function(){e({type:"FETCH_COUNTRIES_FROM_SAGA"})})),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null),r.a.createElement(Ee,null),r.a.createElement(Y,null),r.a.createElement(oe,null))}var Oe=a(153),ye=Object(I.a)((function(){return{container:{color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},image:{width:250},img:{marginBottom:50,display:"block",maxWidth:200,maxHeight:"100%"}}}));function ve(){var e=Object(n.useContext)(N).theme,t=Object(m.g)().name,a=Object(m.f)(),c=ye(),o=Object(l.c)((function(e){return e.countries.countries.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}));return o?r.a.createElement(Oe.a,{className:c.container,maxWidth:!1,style:{backgroundColor:e.color}},r.a.createElement("img",{className:c.img,src:o.flag,alt:o.name}),r.a.createElement(E.a,{variant:"h5"},o.name),r.a.createElement(E.a,{variant:"body1",style:{fontWeight:"bold"}},"Population"),r.a.createElement(E.a,{variant:"body1"},new Intl.NumberFormat("fi-FI",{useGrouping:!0}).format(o.population)),r.a.createElement(E.a,{variant:"body1",style:{fontWeight:"bold"}},"Languages"),r.a.createElement(E.a,{variant:"body1"},o.languages.map((function(e){return e.name})).join(", ")),r.a.createElement(E.a,{variant:"body1",style:{fontWeight:"bold"}},"Region"),r.a.createElement(E.a,{gutterBottom:!0,variant:"body1"},o.region),r.a.createElement(ae.a,{variant:"contained",style:{backgroundColor:"white"},onClick:function(){return a.goBack()}},"Go back")):r.a.createElement("div",null,"Country not available")}var je=function(){return r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:he}),r.a.createElement(m.a,{exact:!0,path:"/country/:name",component:ve}))};function Ce(){var e=Object(n.useState)({theme:x.blue,switchTheme:function(e){c((function(t){return Object(u.a)(Object(u.a)({},t),{},{theme:e===x.blue.color?x.blue:e===x.green.color?x.green:x.orange})}))}}),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement(N.Provider,{value:a},r.a.createElement(je,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var we=a(28),xe=a(89),Ne=a(87),ke=a(43);var Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inCart:[],countries:[],exception:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTRIES_SUCCEED":var a=t.payload.countries;return Object(u.a)(Object(u.a)({},e),{},{countries:Object(ke.a)(a)});case"FETCH_COUNTRIES_FAIL":var n=t.payload.exception;return Object(u.a)(Object(u.a)({},e),{},{exception:n});case"ADD_COUNTRY":var r=t.payload.country;return Object(u.a)(Object(u.a)({},e),{},{inCart:[].concat(Object(ke.a)(e.inCart),[r])});case"REMOVE_COUNTRY":var c=t.payload.name,o=e.inCart.filter((function(e){return e.name!==c}));return Object(u.a)(Object(u.a)({},e),{},{inCart:Object(ke.a)(o)});default:return e}};var Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchKey:"",isMenuOpened:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_COUNTRY":var a=t.payload.searchKey;return Object(u.a)(Object(u.a)({},e),{},{searchKey:a});case"TOGGLE_MENU":var n=t.payload.isMenuOpened;return Object(u.a)(Object(u.a)({},e),{},{isMenuOpened:n});default:return e}},Re=function(){return Object(we.c)({countries:Te,ui:Ie})},_e=a(25),Fe=a.n(_e),Le=a(31),Se=a(88),Ae=Fe.a.mark(We);function We(){var e,t;return Fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Le.b)(He);case 3:return e=a.sent,t=e.sort((function(e,t){return e.name>t.name?1:-1})),a.next=7,Object(Le.c)({type:"FETCH_COUNTRIES_SUCCEED",payload:{countries:t}});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Le.c)({type:"FETCH_COUNTRIES_FAIL",payload:{exception:a.t0}});case 13:case"end":return a.stop()}}),Ae,null,[[0,9]])}function He(){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(Se.a)(Fe.a.mark((function e(){var t,a,n,r;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://restcountries.eu/rest/v2/all",e.next=3,caches.open("AllCountries");case 3:return n=e.sent,e.next=6,n.match(a);case 6:if((r=e.sent)&&r.ok){e.next=13;break}return e.next=10,n.add(a);case 10:return e.next=12,n.match(a);case 12:r=e.sent;case 13:return e.next=15,null===(t=r)||void 0===t?void 0:t.json();case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ge=[Object(Le.d)("FETCH_COUNTRIES_FROM_SAGA",We)],Me=Fe.a.mark(Be);function Be(e){return Fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Le.c)({type:"SEARCH_COUNTRY",payload:{searchKey:e.payload.searchKey}});case 2:case"end":return t.stop()}}),Me)}var De=[Object(Le.e)(1e3,"HANDLE_INPUT_TO_SAGA",Be)],Pe=Fe.a.mark(Ke);function Ke(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Le.a)([].concat(Object(ke.a)(Ge),Object(ke.a)(De)));case 2:case"end":return e.stop()}}),Pe)}var Ye={countries:{inCart:[],countries:[],exception:void 0},ui:{searchKey:"",isMenuOpened:!1}};var ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=Object(xe.a)(),a=[t,Ne.a],n=we.d,r=Object(we.e)(Re(),e,n(we.a.apply(void 0,a)));return t.run(Ke),r}(),Je=function(){return r.a.createElement(l.a,{store:ze},r.a.createElement(i.a,null,r.a.createElement(Ce,null)))};o.a.render(r.a.createElement(Je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,a){e.exports=a(109)}},[[97,1,2]]]);
//# sourceMappingURL=main.6a84b7da.chunk.js.map