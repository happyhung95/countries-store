(this["webpackJsonpfast-track-typescript-redux-template"]=this["webpackJsonpfast-track-typescript-redux-template"]||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=a(14),i=a(22),u=a(18),s=a(47),m=a(15),p=a(153);function d(e){return{type:"TOGGLE_MENU",payload:{isMenuOpened:e}}}var b=a(139),E=a(140),f=a(136),h=a(65),g=a(141),y=a(82),O=a.n(y),v=a(83),C=a.n(v),j=a(84),w=a.n(j),x={hazel:{color:"#8E7618 ",name:"Hazel"},red:{color:"#d3003f",name:"Utah Crimson"},blue:{color:"#000080",name:"Navy Blue"},yellow:{color:"#fcc200",name:"Golden Poppy"}},k=r.a.createContext({theme:x.blue,switchTheme:function(e){}}),N=a(157),T=a(35),I=a(134),R=a(161),_=Object(I.a)((function(e){return Object(R.a)({inputRoot:{color:"inherit"},inputInput:Object(T.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"50ch"})})}));function L(){var e=_(),t=Object(l.b)();return r.a.createElement(N.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return t({type:"HANDLE_INPUT_TO_SAGA",payload:{searchKey:e.target.value}})}})}var S=a(158),F=a(155),A=a(137),H=a(138),U=a(81),W=a.n(U),G=a(80),M=a.n(G),B=Object(I.a)((function(e){return Object(R.a)({cartCloseIcon:{display:"flex",justifyContent:"flex-end",paddingRight:20},cartContainer:{marginTop:20,display:"flex",minWidth:200,paddingLeft:20,alignItems:"center"},cartHeader:{paddingLeft:20,paddingBottom:10,minWidth:200},cartCountry:{display:"flex",alignItems:"center"},cartLink:{textDecoration:"none",color:"black"}})})),D=function(e){var t=e.anchorEl,a=e.isCartOpen,c=e.handleCartClose,o=B(),u=Object(l.c)((function(e){return e.countries.inCart})),s=Object(l.b)(),m=Object(n.useContext)(k).theme;return r.a.createElement(S.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},id:"shopping-cart",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:c},r.a.createElement(h.a,{component:"div"},r.a.createElement(F.a,{className:o.cartCloseIcon},r.a.createElement(f.a,{edge:"end","aria-label":"close cart","aria-controls":"close cart","aria-haspopup":"true",onClick:c,color:"inherit"},r.a.createElement(M.a,null))),r.a.createElement(F.a,{fontWeight:"fontWeightBold",fontSize:"h6.fontSize",className:o.cartHeader},1!==u.length?"Cart: ".concat(u.length," countries"):"Cart: 1 country"),r.a.createElement(A.a,null)),u.map((function(e,t){var a=e.flag,n=e.name;return r.a.createElement("li",{key:t,className:o.cartContainer},r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:9,className:o.cartCountry},r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(n),className:o.cartLink},r.a.createElement("img",{src:a,width:90,alt:a,style:{paddingRight:10}})),r.a.createElement(h.a,null,r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(n),className:o.cartLink},n))),r.a.createElement(H.a,{item:!0,xs:3,style:{paddingLeft:10}},r.a.createElement(f.a,{edge:"end","aria-label":"remove country from cart","aria-controls":"remove ".concat(n," from cart"),"aria-haspopup":"true",onClick:function(){return function(e){return s(function(e){return{type:"REMOVE_COUNTRY",payload:{name:e}}}(e))}(n)},color:"inherit"},r.a.createElement(W.a,{style:{fill:m.color}})))))})))},P=a(12),z=Object(I.a)((function(e){return Object(R.a)({grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(T.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(T.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(P.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(P.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})}));function K(){var e=z(),t=Object(l.b)(),a=Object(n.useContext)(k).theme,c=Object(l.c)((function(e){return e.countries.inCart})),o=r.a.useState(null),i=Object(s.a)(o,2),u=i[0],m=i[1],p=Boolean(u);return r.a.createElement("div",{className:e.grow},r.a.createElement(b.a,{position:"fixed",style:{backgroundColor:a.color}},r.a.createElement(E.a,null,r.a.createElement(f.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(O.a,{onClick:function(){return t(d(!0))}})),r.a.createElement(h.a,{className:e.title,variant:"h6",noWrap:!0},"Countries"),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(C.a,null)),r.a.createElement(L,null)," "),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",null,r.a.createElement(f.a,{edge:"end","aria-label":"show cart","aria-controls":"shopping-cart","aria-haspopup":"true",onClick:function(e){return m(e.currentTarget)},color:"inherit"},r.a.createElement(g.a,{badgeContent:c.length,color:"secondary"},r.a.createElement(w.a,null)))))),r.a.createElement(D,{anchorEl:u,isCartOpen:p,handleCartClose:function(){return m(null)}}))}var Y=a(28),J=a(112),V=a(143),$=a(144),q=a(145),Q=a(146),X=a(147),Z=a(160),ee=a(148),te=a(149),ae=a(142),ne=Object(I.a)((function(e){return Object(R.a)({button:{width:100}})})),re=function(e){var t=e.country,a=ne(),c=Object(l.b)(),o=Object(n.useContext)(k).theme,i=void 0!==Object(l.c)((function(e){return e.countries.inCart})).find((function(e){return e.name===t.name}))||!1;return r.a.createElement(ae.a,{variant:"contained",color:"primary",className:a.button,onClick:function(){return c(function(e){return{type:"ADD_COUNTRY",payload:{country:e}}}(t))},disabled:i,style:{backgroundColor:o.color}},"Add")},ce=Object(I.a)((function(e){return Object(R.a)({root:Object(T.a)({flexGrow:1},e.breakpoints.up("md"),{flexGrow:0}),paper:{padding:e.spacing(2),background:"#F9F9F9"},image:{width:150},img:{maxWidth:"100%",maxHeight:"100%"},table:{marginTop:65},countryName:{textDecoration:"none",color:"black",fontWeight:"bolder"}})}));var oe=function(){var e=Object(l.c)((function(e){return e.countries.countries})),t=Object(l.c)((function(e){return e.ui.searchKey})),a=Object(n.useState)(!0),c=Object(s.a)(a,2),o=c[0],u=c[1],m=Object(n.useContext)(k).theme;Object(n.useEffect)((function(){e=e.reverse()}),[o,e]);var p=function(){return u(!o)},d=ce(),b=Object(Y.a)(),E=Object(te.a)(b.breakpoints.up("sm"));return r.a.createElement(r.a.Fragment,null,E?r.a.createElement(V.a,{component:J.a},r.a.createElement($.a,{className:d.table,"aria-label":"simple table"},r.a.createElement(q.a,null,r.a.createElement(Q.a,null,r.a.createElement(X.a,null,"Flag"),r.a.createElement(X.a,null,r.a.createElement(Z.a,{direction:o?"asc":"desc",onClick:p},"Name")),r.a.createElement(X.a,null,"Languages"),r.a.createElement(X.a,null,"Population"),r.a.createElement(X.a,null,"Region"),r.a.createElement(X.a,null))),r.a.createElement(ee.a,null,e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e,t){return r.a.createElement(Q.a,{key:t},r.a.createElement(X.a,{className:d.image},r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(e.name)},r.a.createElement("img",{className:d.img,src:e.flag,alt:e.name}))),r.a.createElement(X.a,{component:"th",scope:"row"},r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(e.name),className:d.countryName},e.name)),r.a.createElement(X.a,null,e.languages.map((function(e,t){var a=e.name;return r.a.createElement("li",{key:t},a)}))),r.a.createElement(X.a,null,new Intl.NumberFormat("fi-FI",{useGrouping:!0}).format(e.population)),r.a.createElement(X.a,null,e.region),r.a.createElement(X.a,null,r.a.createElement(re,{country:e})))}))))):r.a.createElement("div",{style:{marginTop:60}},e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e,t){return r.a.createElement("div",{className:d.root,key:t},r.a.createElement(J.a,{className:d.paper},r.a.createElement(H.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(e.name),className:d.image},r.a.createElement("img",{className:d.img,src:e.flag,alt:e.name})),r.a.createElement(h.a,{variant:"h5"},r.a.createElement(i.b,{to:"/react-redux-countries-app/country/".concat(e.name),className:d.countryName,style:{color:m.color}},e.name)),r.a.createElement(h.a,{variant:"body1",style:{fontWeight:"bold"}},"Population"),r.a.createElement(h.a,{variant:"body1"},new Intl.NumberFormat("fi-FI",{useGrouping:!0}).format(e.population)),r.a.createElement(h.a,{variant:"body1",style:{fontWeight:"bold"}},"Languages"),r.a.createElement(h.a,{variant:"body1"},e.languages.map((function(e){return e.name})).join(", ")),r.a.createElement(h.a,{variant:"body1",style:{fontWeight:"bold"}},"Region"),r.a.createElement(h.a,{gutterBottom:!0,variant:"body1"},e.region),r.a.createElement(re,{country:e}),r.a.createElement(A.a,null))))}))))},le=a(150),ie=a(159),ue=a(135),se=a(162),me=a(151),pe=a(152),de=a(85),be=a.n(de),Ee=a(86),fe=a.n(Ee),he=Object(I.a)((function(e){return Object(R.a)({root:{display:"flex"},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:300,flexShrink:0},drawerPaper:{width:300},drawerHeader:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"space-between"}),themeIcon:{padding:15,marginRight:10,color:"white",justifyContent:"center"}})}));function ge(){var e=he(),t=Object(Y.a)(),a=Object(l.b)(),c=Object(l.c)((function(e){return e.ui.isMenuOpened})),o=Object(n.useContext)(k).switchTheme,i=function(){return a(d(!1))};return r.a.createElement("div",{className:e.root},r.a.createElement(le.a,{mouseEvent:"onMouseDown",touchEvent:"onTouchStart",onClickAway:i},r.a.createElement(ie.a,{className:e.drawer,variant:"persistent",anchor:"left",open:c,classes:{paper:e.drawerPaper},ModalProps:{onBackdropClick:i}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(h.a,{variant:"h6",style:{paddingLeft:20}},"SWITCH THEME"),r.a.createElement(f.a,{onClick:i},"ltr"===t.direction?r.a.createElement(be.a,null):r.a.createElement(fe.a,null))),r.a.createElement(A.a,null),r.a.createElement(ue.a,null,[x.hazel,x.red,x.blue,x.yellow].map((function(t,a){return r.a.createElement(se.a,{button:!0,key:a,onClick:function(){o(t.color)}},r.a.createElement(me.a,{className:e.themeIcon,style:{backgroundColor:t.color}},t.name[0]),r.a.createElement(pe.a,{primary:t.name}))}))))))}function ye(){var e=Object(l.b)();return Object(n.useEffect)((function(){e({type:"FETCH_COUNTRIES_FROM_SAGA"})})),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null),r.a.createElement(ge,null),r.a.createElement(K,null),r.a.createElement(oe,null))}var Oe=a(154),ve=Object(I.a)((function(){return{container:{color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},image:{width:250},img:{marginBottom:50,display:"block",maxWidth:200,maxHeight:"100%"}}}));function Ce(){var e=Object(n.useContext)(k).theme,t=Object(m.g)().name,a=Object(m.f)(),c=ve(),o=Object(l.c)((function(e){return e.countries.countries.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}));return o?r.a.createElement(Oe.a,{className:c.container,maxWidth:!1,style:{backgroundColor:e.color}},r.a.createElement("img",{className:c.img,src:o.flag,alt:o.name}),r.a.createElement(h.a,{variant:"h5"},o.name),r.a.createElement(h.a,{variant:"body1",style:{fontWeight:"bold"}},"Population"),r.a.createElement(h.a,{variant:"body1"},new Intl.NumberFormat("fi-FI",{useGrouping:!0}).format(o.population)),r.a.createElement(h.a,{variant:"body1",style:{fontWeight:"bold"}},"Languages"),r.a.createElement(h.a,{variant:"body1"},o.languages.map((function(e){return e.name})).join(", ")),r.a.createElement(h.a,{variant:"body1",style:{fontWeight:"bold"}},"Region"),r.a.createElement(h.a,{gutterBottom:!0,variant:"body1"},o.region),r.a.createElement(ae.a,{variant:"contained",style:{backgroundColor:"white"},onClick:function(){return a.goBack()}},"Go back")):r.a.createElement("div",null,"Country not available")}var je=function(){return r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/react-redux-countries-app",component:ye}),r.a.createElement(m.a,{exact:!0,path:"/react-redux-countries-app/country/:name",component:Ce}))};function we(){var e=Object(n.useState)({theme:x.red,switchTheme:function(e){c((function(t){return Object(u.a)(Object(u.a)({},t),{},{theme:e===x.blue.color?x.blue:e===x.hazel.color?x.hazel:e===x.yellow.color?x.yellow:x.red})}))}}),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement(k.Provider,{value:a},r.a.createElement(je,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=a(30),ke=a(89),Ne=a(87),Te=a(43);var Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inCart:[],countries:[],exception:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTRIES_SUCCEED":var a=t.payload.countries;return Object(u.a)(Object(u.a)({},e),{},{countries:Object(Te.a)(a)});case"FETCH_COUNTRIES_FAIL":var n=t.payload.exception;return Object(u.a)(Object(u.a)({},e),{},{exception:n});case"ADD_COUNTRY":var r=t.payload.country;return Object(u.a)(Object(u.a)({},e),{},{inCart:[].concat(Object(Te.a)(e.inCart),[r])});case"REMOVE_COUNTRY":var c=t.payload.name,o=e.inCart.filter((function(e){return e.name!==c}));return Object(u.a)(Object(u.a)({},e),{},{inCart:Object(Te.a)(o)});default:return e}};var Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchKey:"",isMenuOpened:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_COUNTRY":var a=t.payload.searchKey;return Object(u.a)(Object(u.a)({},e),{},{searchKey:a});case"TOGGLE_MENU":var n=t.payload.isMenuOpened;return Object(u.a)(Object(u.a)({},e),{},{isMenuOpened:n});default:return e}},_e=function(){return Object(xe.c)({countries:Ie,ui:Re})},Le=a(27),Se=a.n(Le),Fe=a(32),Ae=a(88),He=Se.a.mark(Ue);function Ue(){var e,t;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Fe.b)(We);case 3:return e=a.sent,t=e.sort((function(e,t){return e.name>t.name?1:-1})),a.next=7,Object(Fe.c)({type:"FETCH_COUNTRIES_SUCCEED",payload:{countries:t}});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Fe.c)({type:"FETCH_COUNTRIES_FAIL",payload:{exception:a.t0}});case 13:case"end":return a.stop()}}),He,null,[[0,9]])}function We(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(Ae.a)(Se.a.mark((function e(){var t,a,n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://restcountries.eu/rest/v2/all",e.next=3,caches.open("AllCountries");case 3:return n=e.sent,e.next=6,n.match(a);case 6:if((r=e.sent)&&r.ok){e.next=13;break}return e.next=10,n.add(a);case 10:return e.next=12,n.match(a);case 12:r=e.sent;case 13:return e.next=15,null===(t=r)||void 0===t?void 0:t.json();case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me=[Object(Fe.d)("FETCH_COUNTRIES_FROM_SAGA",Ue)],Be=Se.a.mark(De);function De(e){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Fe.c)({type:"SEARCH_COUNTRY",payload:{searchKey:e.payload.searchKey}});case 2:case"end":return t.stop()}}),Be)}var Pe=[Object(Fe.e)(1e3,"HANDLE_INPUT_TO_SAGA",De)],ze=Se.a.mark(Ke);function Ke(){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fe.a)([].concat(Object(Te.a)(Me),Object(Te.a)(Pe)));case 2:case"end":return e.stop()}}),ze)}var Ye={countries:{inCart:[],countries:[],exception:void 0},ui:{searchKey:"",isMenuOpened:!1}};var Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=Object(ke.a)(),a=[t,Ne.a],n=xe.d,r=Object(xe.e)(_e(),e,n(xe.a.apply(void 0,a)));return t.run(Ke),r}(),Ve=function(){return r.a.createElement(l.a,{store:Je},r.a.createElement(i.a,null,r.a.createElement(we,null)))};o.a.render(r.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,a){e.exports=a(109)}},[[97,1,2]]]);
//# sourceMappingURL=main.885fb9c2.chunk.js.map