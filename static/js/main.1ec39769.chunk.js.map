{"version":3,"sources":["redux/actions/ui.ts","types.ts","context/index.tsx","components/SearchField/styles.ts","components/SearchField/SearchField.tsx","components/ShoppingCart/styles.ts","components/ShoppingCart/ShoppingCart.tsx","redux/actions/countries.ts","containers/NavBar/styles.ts","containers/NavBar/NavBar.tsx","components/AddButton/styles.ts","components/AddButton/AddButton.tsx","containers/CountriesList/styles.ts","containers/CountriesList/CountriesList.tsx","components/ThemeMenu/styles.ts","components/ThemeMenu/ThemeMenu.tsx","pages/Home.tsx","pages/Country/styles.ts","pages/Country/Country.tsx","Routes.tsx","App.tsx","serviceWorker.ts","redux/reducers/countries.ts","redux/reducers/ui.ts","redux/reducers/index.ts","redux/sagas/countries.ts","redux/sagas/ui.ts","redux/sagas/index.ts","redux/store.ts","index.tsx"],"names":["toggleMenuOpen","isMenuOpened","type","payload","themes","hazel","color","name","red","blue","yellow","React","createContext","theme","switchTheme","useStyles","makeStyles","createStyles","inputRoot","inputInput","padding","spacing","paddingLeft","transition","transitions","create","width","breakpoints","up","SearchField","classes","dispatch","useDispatch","InputBase","placeholder","root","input","inputProps","onChange","event","searchKey","target","value","cartCloseIcon","display","justifyContent","paddingRight","cartContainer","marginTop","minWidth","alignItems","textDecoration","backgroundColor","cartHeader","paddingBottom","cartCountry","cartLink","ShoppingCart","anchorEl","isCartOpen","handleCartClose","inCart","useSelector","state","countries","useContext","ThemeContext","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","Typography","component","Box","className","IconButton","edge","aria-label","aria-controls","aria-haspopup","onClick","fontWeight","fontSize","length","Divider","map","index","flag","key","Grid","container","item","xs","to","src","alt","style","removeCountry","handleRemoveCountry","fill","grow","flexGrow","menuButton","marginRight","title","search","position","borderRadius","shape","fade","palette","common","white","marginLeft","searchIcon","height","pointerEvents","NavBar","useState","setAnchorEl","Boolean","AppBar","Toolbar","variant","noWrap","currentTarget","Badge","badgeContent","button","AddButton","country","isDisabled","undefined","find","inCartCountry","Button","addCountry","disabled","paper","background","image","img","maxWidth","maxHeight","table","tableHead","tablerow","countryName","CountriesList","ui","ascendingOrder","setSortOrder","useEffect","reverse","handleSort","themeMUI","useTheme","desktopView","useMediaQuery","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableSortLabel","direction","TableBody","filter","toLowerCase","includes","scope","languages","Intl","NumberFormat","useGrouping","format","population","region","language","join","gutterBottom","hide","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","themeIcon","ThemeMenu","handleMenuClose","ClickAwayListener","mouseEvent","touchEvent","onClickAway","Drawer","anchor","List","ListItem","ListItemIcon","ListItemText","primary","Home","CssBaseline","flexDirection","marginBottom","Country","useParams","history","useHistory","Container","goBack","Routes","exact","path","App","setContext","current","context","Provider","window","location","hostname","match","countriesReducer","exception","action","newInCart","uiReducer","createRootReducer","combineReducers","fetchCountries","call","getAllCountries","allCountries","sortedCountries","sort","a","b","put","URL","caches","cacheStorage","cacheResponse","ok","add","json","takeLatest","sendInputToReducer","throttle","rootSaga","all","countriesSagas","uiSagas","initState","store","initialState","sagaMiddleware","createSagaMiddleware","middlewares","thunk","composeEnhancers","compose","createStore","applyMiddleware","run","makeStore","WithProvider","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1ec39769.chunk.js","sourcesContent":["import {\r\n  SEARCH_COUNTRY,\r\n  UiAction,\r\n  HANDLE_INPUT_TO_SAGA,\r\n  TOGGLE_MENU,\r\n} from './../../types'\r\n\r\nexport function searchCountry(searchKey: string): UiAction {\r\n  return {\r\n    type: SEARCH_COUNTRY,\r\n    payload: {\r\n      searchKey: searchKey,\r\n    },\r\n  }\r\n}\r\n\r\nexport function handleInputToSaga(searchKey: string): UiAction {\r\n  return {\r\n    type: HANDLE_INPUT_TO_SAGA,\r\n    payload: {\r\n      searchKey: searchKey,\r\n    },\r\n  }\r\n}\r\n\r\nexport function toggleMenuOpen(isMenuOpened: boolean): UiAction {\r\n  return {\r\n    type: TOGGLE_MENU,\r\n    payload: {\r\n      isMenuOpened: isMenuOpened,\r\n    },\r\n  }\r\n}\r\n","export const FETCH_COUNTRIES_FROM_SAGA = 'FETCH_COUNTRIES_FROM_SAGA'\r\nexport const FETCH_COUNTRIES_SUCCEED = 'FETCH_COUNTRIES_SUCCEED'\r\nexport const FETCH_COUNTRIES_FAIL = 'FETCH_COUNTRIES_FAIL'\r\nexport const HANDLE_INPUT_TO_SAGA = 'HANDLE_INPUT_TO_SAGA'\r\nexport const SEARCH_COUNTRY = 'SEARCH_COUNTRY'\r\nexport const ADD_COUNTRY = 'ADD_COUNTRY'\r\nexport const REMOVE_COUNTRY = 'REMOVE_COUNTRY'\r\nexport const TOGGLE_MENU = 'TOGGLE_MENU'\r\n\r\nexport type Country = {\r\n  name: string\r\n  flag: string\r\n  population: number\r\n  languages: { name: string }[]\r\n  region: string\r\n}\r\n\r\nexport type Exception = {\r\n  errorMessage: string\r\n}\r\n\r\nexport type FetchCountriesAction = {\r\n  type: typeof FETCH_COUNTRIES_FROM_SAGA\r\n}\r\n\r\nexport type FetchCountriesSucceedAction = {\r\n  type: typeof FETCH_COUNTRIES_SUCCEED\r\n  payload: {\r\n    countries: Country[]\r\n  }\r\n}\r\n\r\nexport type FetchCountriesFailAction = {\r\n  type: typeof FETCH_COUNTRIES_FAIL\r\n  payload: {\r\n    exception: Exception\r\n  }\r\n}\r\n\r\nexport type AddCountryAction = {\r\n  type: typeof ADD_COUNTRY\r\n  payload: {\r\n    country: Country\r\n  }\r\n}\r\n\r\nexport type RemoveCountryAction = {\r\n  type: typeof REMOVE_COUNTRY\r\n  payload: {\r\n    name: string\r\n  }\r\n}\r\n\r\nexport type SearchCountryAction = {\r\n  type: typeof SEARCH_COUNTRY\r\n  payload: {\r\n    searchKey: string\r\n  }\r\n}\r\n\r\nexport type HandleInputToSagaAction = {\r\n  type: typeof HANDLE_INPUT_TO_SAGA\r\n  payload: {\r\n    searchKey: string\r\n  }\r\n}\r\n\r\nexport type ToggleMenuAction = {\r\n  type: typeof TOGGLE_MENU\r\n  payload: {\r\n    isMenuOpened: boolean\r\n  }\r\n}\r\n\r\n\r\n// Use this union in reducer\r\nexport type UiAction = \r\n| SearchCountryAction\r\n| HandleInputToSagaAction\r\n| ToggleMenuAction\r\n\r\n\r\nexport type CountriesAction =\r\n  | FetchCountriesAction\r\n  | FetchCountriesSucceedAction\r\n  | FetchCountriesFailAction\r\n  | AddCountryAction\r\n  | RemoveCountryAction\r\n\r\n\r\n// Using dynamic keys from an enum\r\nexport type UiState = {\r\n  searchKey: string\r\n  isMenuOpened: boolean\r\n}\r\n\r\nexport type CountriesState = {\r\n  inCart: Country[]\r\n  countries: Country[]\r\n  exception?: Exception\r\n}\r\n\r\nexport type AppState = {\r\n  countries: CountriesState\r\n  ui: UiState\r\n}\r\n","import React from 'react'\n\nexport const themes = {\n  hazel: {\n    color: '#8E7618 ',\n    name: 'Hazel',\n  },\n  red: {\n    color: '#d3003f',\n    name: 'Utah Crimson',\n  },\n  blue: {\n    color: '#000080',\n    name: 'Navy Blue',\n  },\n  yellow: {\n    color: '#fcc200',\n    name: 'Golden Poppy',\n  },\n}\n\nexport default React.createContext({\n  theme: themes.blue,\n  switchTheme: (name: string) => {},\n})\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\n\r\n// SearchField Component\r\n// from MUI\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    inputRoot: {\r\n      color: 'inherit',\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '50ch',\r\n      },\r\n    },\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport InputBase from '@material-ui/core/InputBase'\n\nimport { handleInputToSaga } from '../../redux/actions/ui'\nimport useStyles from './styles'\n\n// Detach SearchField Component from Navbar for easier code maintenance\n\nexport default function SearchField() {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const handleInput = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => dispatch(handleInputToSaga(event.target.value))\n\n  return (\n    <InputBase\n      placeholder=\"Search…\"\n      classes={{\n        root: classes.inputRoot,\n        input: classes.inputInput,\n      }}\n      inputProps={{ 'aria-label': 'search' }}\n      onChange={handleInput}\n    />\n  )\n}\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\n// ShoppingCart Component\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    cartCloseIcon: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      paddingRight: 20,\n    },\n    cartContainer: {\n      marginTop: 20,\n      display: 'flex',\n      minWidth: 200,\n      paddingLeft: 20,\n      alignItems: 'center',\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: '#f5f5f5',\n      },\n    },\n    cartHeader: {\n      paddingLeft: 20,\n      paddingBottom: 10,\n      minWidth: 200,\n    },\n    cartCountry: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    cartLink: {\n      textDecoration: 'none',\n      color: 'black',\n    },\n  })\n)\n\nexport default useStyles\n","import React, { useContext } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport {\n  Menu,\n  Box,\n  Divider,\n  Grid,\n  IconButton,\n  Typography,\n} from '@material-ui/core'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport ThemeContext from '../../context'\nimport { AppState } from '../../types'\nimport { removeCountry } from '../../redux/actions/countries'\nimport useStyles from './styles'\n\ninterface Props {\n  anchorEl: HTMLElement | null\n  isCartOpen: boolean\n  handleCartClose: () => void\n}\n\nconst ShoppingCart: React.FC<Props> = ({\n  anchorEl,\n  isCartOpen,\n  handleCartClose,\n}) => {\n  const classes = useStyles()\n  const inCart = useSelector((state: AppState) => state.countries.inCart)\n  const dispatch = useDispatch()\n  const { theme } = useContext(ThemeContext)\n\n  const handleRemoveCountry = (name: string) => dispatch(removeCountry(name))\n\n  return (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id=\"shopping-cart\"\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isCartOpen}\n      onClose={handleCartClose}\n    >\n      <Typography component=\"div\">\n        <Box className={classes.cartCloseIcon}>\n          <IconButton\n            edge=\"end\"\n            aria-label=\"close cart\"\n            aria-controls={`close cart`}\n            aria-haspopup=\"true\"\n            onClick={handleCartClose}\n            color=\"inherit\"\n          >\n            <CloseIcon />\n          </IconButton>\n        </Box>\n        <Box\n          fontWeight=\"fontWeightBold\"\n          fontSize=\"h6.fontSize\"\n          className={classes.cartHeader}\n        >\n          {inCart.length !== 1\n            ? `Cart: ${inCart.length} countries`\n            : `Cart: 1 country`}\n        </Box>\n        <Divider />\n      </Typography>\n      {inCart.map(({ flag, name }, index) => (\n        <li key={index} className={classes.cartContainer}>\n          <Grid container>\n            <Grid item xs={9} className={classes.cartCountry}>\n              <Link\n                to={`/react-redux-countries-app/country/${name}`}\n                className={classes.cartLink}\n              >\n                <img\n                  src={flag}\n                  width={90}\n                  alt={flag}\n                  style={{ paddingRight: 10 }}\n                />\n              </Link>\n              <Typography>\n                <Link\n                  to={`/react-redux-countries-app/country/${name}`}\n                  className={classes.cartLink}\n                >\n                  {name}\n                </Link>\n              </Typography>\n            </Grid>\n            <Grid item xs={3} style={{ paddingLeft: 20, display:'flex', alignItems: 'center' }}>\n              <IconButton\n                edge=\"end\"\n                aria-label=\"remove country from cart\"\n                aria-controls={`remove ${name} from cart`}\n                aria-haspopup=\"true\"\n                onClick={() => handleRemoveCountry(name)}\n                color=\"inherit\"\n              >\n                <DeleteIcon style={{ fill: theme.color }} />\n              </IconButton>\n            </Grid>\n          </Grid>\n        </li>\n      ))}\n    </Menu>\n  )\n}\n\nexport default ShoppingCart\n","import {\r\n  FETCH_COUNTRIES_FROM_SAGA,\r\n  FETCH_COUNTRIES_SUCCEED,\r\n  FETCH_COUNTRIES_FAIL,\r\n  ADD_COUNTRY,\r\n  REMOVE_COUNTRY,\r\n  Country,\r\n  CountriesAction,\r\n  Exception,\r\n\r\n} from '../../types'\r\n\r\nexport function fetchCountriesFromSaga(): CountriesAction {\r\n  return {\r\n    type: FETCH_COUNTRIES_FROM_SAGA,\r\n  }\r\n}\r\n\r\nexport function fetchCountriesSucceed(countries: Country[]): CountriesAction {\r\n  return {\r\n    type: FETCH_COUNTRIES_SUCCEED,\r\n    payload: {\r\n      countries: countries,\r\n    },\r\n  }\r\n}\r\n\r\nexport function fetchCountriesFail(exception: Exception): CountriesAction {\r\n  return {\r\n    type: FETCH_COUNTRIES_FAIL,\r\n    payload: {\r\n      exception: exception,\r\n    },\r\n  }\r\n}\r\n\r\nexport function addCountry(country: Country): CountriesAction {\r\n  return {\r\n    type: ADD_COUNTRY,\r\n    payload: {\r\n      country: country,\r\n    },\r\n  }\r\n}\r\n\r\nexport function removeCountry(name: string): CountriesAction {\r\n  return {\r\n    type: REMOVE_COUNTRY,\r\n    payload: {\r\n      name: name,\r\n    },\r\n  }\r\n}\r\n\r\n\r\n\r\n","import { fade, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\n\r\n//NavBar Component\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('sm')]: {\r\n        display: 'block',\r\n      },\r\n    },\r\n    search: {\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: 0,\r\n      width: '100%',\r\n      [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing(3),\r\n        width: 'auto',\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React, { useContext } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Typography,\n  Badge,\n} from '@material-ui/core'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport SearchIcon from '@material-ui/icons/Search'\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart'\n\nimport ThemeContext from '../../context'\nimport { toggleMenuOpen } from '../../redux/actions'\nimport SearchField from '../../components/SearchField'\nimport ShoppingCart from '../../components/ShoppingCart'\nimport { AppState } from '../../types'\nimport useStyles from './styles'\n\n//MUI component\n\nexport default function NavBar() {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const { theme } = useContext(ThemeContext)\n  const inCart = useSelector((state: AppState) => state.countries.inCart)\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n  const isCartOpen = Boolean(anchorEl)\n\n  const handleCartOpen = (event: React.MouseEvent<HTMLElement>) =>\n    setAnchorEl(event.currentTarget)\n\n  const handleCartClose = () => setAnchorEl(null)\n\n  const handleMenuOpen = () => dispatch(toggleMenuOpen(true))\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"fixed\" style={{ backgroundColor: theme.color }}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleMenuOpen}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            Countries\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <SearchField /> {/* Custom component modified from MUI */}\n          </div>\n          <div className={classes.grow} />\n          <div>\n            <IconButton\n              edge=\"end\"\n              aria-label=\"show cart\"\n              aria-controls=\"shopping-cart\"\n              aria-haspopup=\"true\"\n              onClick={handleCartOpen}\n              color=\"inherit\"\n            >\n              <Badge badgeContent={inCart.length} color=\"secondary\">\n                <ShoppingCartIcon />\n              </Badge>\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <ShoppingCart\n        anchorEl={anchorEl}\n        isCartOpen={isCartOpen}\n        handleCartClose={handleCartClose}\n      />\n    </div>\n  )\n}\n","import { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\r\n\r\n// AddButton Component\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    button: {\r\n      width: 100,\r\n    },\r\n  })\r\n)\r\n\r\nexport default useStyles\r\n","import React, { useContext } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Button from '@material-ui/core/Button'\n\nimport ThemeContext from '../../context'\nimport { Country, AppState } from '../../types'\nimport { addCountry } from '../../redux/actions/countries'\nimport useStyles from './styles'\n\nconst AddButton: React.FC<{ country: Country }> = ({ country }) => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const { theme } = useContext(ThemeContext)\n\n  const inCart = useSelector((state: AppState) => state.countries.inCart)\n\n  let isDisabled =\n    inCart.find((inCartCountry) => inCartCountry.name === country.name) !==\n      undefined || false // return true if there's match\n\n  const handleClick = () => dispatch(addCountry(country))\n\n  return (\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      className={classes.button}\n      onClick={handleClick}\n      disabled={isDisabled}\n      style={{ backgroundColor: theme.color }}\n    >\n      Add\n    </Button>\n  )\n}\n\nexport default AddButton\n","import { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\n\n// CountriesList Component\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n      [theme.breakpoints.up('md')]: {\n        flexGrow: 0,\n      },\n    },\n    paper: {\n      padding: theme.spacing(2),\n      background: '#F9F9F9',\n    },\n    image: {\n      width: 150,\n    },\n    img: {\n      maxWidth: '100%',\n      maxHeight: '100%',\n    },\n\n    table: {\n      marginTop: 65,\n    },\n    tableHead: {\n      fontWeight: 'bolder',\n    },\n    tablerow: {\n      fontWeight: 'bolder',\n    },\n\n    countryName: {\n      textDecoration: 'none',\n      color: 'black',\n      fontWeight: 'bolder',\n    },\n  })\n)\n\nexport default useStyles\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { useTheme } from '@material-ui/core/styles'\nimport {\n  useMediaQuery,\n  Grid,\n  Paper,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TableSortLabel,\n  Divider,\n} from '@material-ui/core'\n\nimport AddButton from '../../components/AddButton'\nimport ThemeContext from '../../context'\nimport { AppState } from '../../types'\nimport useStyles from './styles'\n\nfunction CountriesList() {\n  // countries is already sorted in the saga\n  let countries = useSelector((state: AppState) => state.countries.countries)\n  const searchKey = useSelector((state: AppState) => state.ui.searchKey)\n  const [ascendingOrder, setSortOrder] = useState(true)\n  const { theme } = useContext(ThemeContext)\n\n  useEffect(() => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    countries = countries.reverse()\n  }, [ascendingOrder, countries])\n\n  const handleSort = () => setSortOrder(!ascendingOrder)\n\n  const classes = useStyles()\n\n  const renderMobile = () => (\n    <div style={{ marginTop: 60 }}>\n      {countries\n        .filter(({ name }) =>\n          name.toLowerCase().includes(searchKey.toLowerCase())\n        )\n        .map((country, index) => (\n          <div className={classes.root} key={index}>\n            <Paper className={classes.paper}>\n              <Grid container direction=\"column\" alignItems=\"center\">\n                <Link\n                  to={`/react-redux-countries-app/country/${country.name}`}\n                  className={classes.image}\n                >\n                  <img\n                    className={classes.img}\n                    src={country.flag}\n                    alt={country.name}\n                  />\n                </Link>\n                <Typography variant=\"h5\">\n                  <Link\n                    to={`/react-redux-countries-app/country/${country.name}`}\n                    className={classes.countryName}\n                    style={{ color: theme.color }}\n                  >\n                    {country.name}\n                  </Link>\n                </Typography>\n                <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n                  Population\n                </Typography>\n                <Typography variant=\"body1\">\n                  {new Intl.NumberFormat('fi-FI', { useGrouping: true }).format(\n                    country.population\n                  )}\n                </Typography>\n                <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n                  Languages\n                </Typography>\n                <Typography variant=\"body1\">\n                  {country.languages\n                    .map((language) => language.name)\n                    .join(', ')}\n                </Typography>\n                <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n                  Region\n                </Typography>\n                <Typography gutterBottom variant=\"body1\">\n                  {country.region}\n                </Typography>\n                <AddButton country={country} />\n                <Divider />\n              </Grid>\n            </Paper>\n          </div>\n        ))}\n    </div>\n  )\n\n  const renderDesktop = () => (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.tableHead}>Flag</TableCell>\n            <TableCell className={classes.tableHead}>\n              <TableSortLabel\n                direction={ascendingOrder ? 'asc' : 'desc'}\n                onClick={handleSort}\n              >\n                Name\n              </TableSortLabel>\n            </TableCell>\n            <TableCell className={classes.tableHead}>Languages</TableCell>\n            <TableCell className={classes.tableHead}>Population</TableCell>\n            <TableCell className={classes.tableHead}>Region</TableCell>\n            <TableCell>{/*button column */}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {countries\n            .filter(({ name }) =>\n              name.toLowerCase().includes(searchKey.toLowerCase())\n            )\n            .map((country, index) => (\n              <TableRow key={index}>\n                <TableCell className={classes.image}>\n                  <Link\n                    to={`/react-redux-countries-app/country/${country.name}`}\n                  >\n                    <img\n                      className={classes.img}\n                      src={country.flag}\n                      alt={country.name}\n                    />\n                  </Link>\n                </TableCell>\n                <TableCell component=\"th\" scope=\"row\">\n                  <Link\n                    to={`/react-redux-countries-app/country/${country.name}`}\n                    className={classes.countryName}\n                  >\n                    {country.name}\n                  </Link>\n                </TableCell>\n                <TableCell>\n                  {country.languages.map(({ name }, index) => (\n                    <li key={index}>{name}</li>\n                  ))}\n                </TableCell>\n                <TableCell>\n                  {new Intl.NumberFormat('fi-FI', { useGrouping: true }).format(\n                    country.population\n                  )}\n                </TableCell>\n                <TableCell>{country.region}</TableCell>\n                <TableCell>\n                  <AddButton country={country} />\n                </TableCell>\n              </TableRow>\n            ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n\n  // Responsive render\n  const themeMUI = useTheme()\n  const desktopView = useMediaQuery(themeMUI.breakpoints.up('sm')) // min view width = 600px\n\n  return <>{desktopView ? renderDesktop() : renderMobile()}</>\n}\n\nexport default CountriesList\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\n//Drawer Component\n\nconst drawerWidth = 300\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    hide: {\n      display: 'none',\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: drawerWidth,\n    },\n    drawerHeader: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0, 1),\n      // necessary for content to be below app bar\n      ...theme.mixins.toolbar,\n      justifyContent: 'space-between',\n    },\n    themeIcon: {\n      padding: 15,\n      marginRight: 10,\n      color: 'white',\n      justifyContent: 'center',\n    },\n  })\n)\n\nexport default useStyles\n","import React, { useContext } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport {\n  Typography,\n  Drawer,\n  List,\n  Divider,\n  IconButton,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ClickAwayListener,\n} from '@material-ui/core'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight'\nimport { useTheme } from '@material-ui/core/styles'\n\nimport { AppState } from '../../types'\nimport { toggleMenuOpen } from '../../redux/actions/ui'\nimport ThemeContext, { themes } from '../../context'\nimport useStyles from './styles'\n\nexport default function ThemeMenu() {\n  const classes = useStyles()\n  const theme = useTheme()\n  const dispatch = useDispatch()\n  let open = useSelector((state: AppState) => state.ui.isMenuOpened)\n\n  const { switchTheme } = useContext(ThemeContext)\n\n  const handleMenuClose = () => dispatch(toggleMenuOpen(false))\n\n  return (\n    <div className={classes.root}>\n      <ClickAwayListener\n        mouseEvent=\"onMouseDown\"\n        touchEvent=\"onTouchStart\"\n        onClickAway={handleMenuClose}\n      >\n        <Drawer\n          className={classes.drawer}\n          variant=\"persistent\"\n          anchor=\"left\"\n          open={open}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n        >\n          <div className={classes.drawerHeader}>\n            <Typography variant=\"h6\" style={{ paddingLeft: 20 }}>\n              SWITCH THEME\n            </Typography>\n            <IconButton onClick={handleMenuClose}>\n              {theme.direction === 'ltr' ? (\n                <ChevronLeftIcon />\n              ) : (\n                <ChevronRightIcon />\n              )}\n            </IconButton>\n          </div>\n          <Divider />\n          <List>\n            {[themes.hazel, themes.red, themes.blue, themes.yellow].map(\n              (theme, index) => (\n                <ListItem\n                  button\n                  key={index}\n                  onClick={() => {\n                    switchTheme(theme.color)\n                  }}\n                >\n                  <ListItemIcon\n                    className={classes.themeIcon}\n                    style={{ backgroundColor: theme.color }}\n                  >\n                    {theme.name[0]}\n                  </ListItemIcon>\n                  <ListItemText primary={theme.name} />\n                </ListItem>\n              )\n            )}\n          </List>\n        </Drawer>\n      </ClickAwayListener>\n    </div>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { CssBaseline } from '@material-ui/core'\n\nimport { fetchCountriesFromSaga } from '../redux/actions'\nimport NavBar from '../containers/NavBar'\nimport CountriesList from '../containers/CountriesList'\nimport ThemeMenu from '../components/ThemeMenu'\n\nexport default function Home() {\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(fetchCountriesFromSaga())\n  }, [dispatch])\n\n  return (\n    <>\n      <CssBaseline />\n      <ThemeMenu />\n      <NavBar />\n      <CountriesList />\n    </>\n  )\n}\n","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    color: 'white',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    width: 250,\r\n  },\r\n  img: {\r\n    marginBottom: 50,\r\n    display: 'block',\r\n    maxWidth: 200,\r\n    maxHeight: '100%',\r\n  },\r\n}))\r\n\r\nexport default useStyles\r\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\n\nimport { Typography, Container, Button } from '@material-ui/core'\n\nimport ThemeContext from '../../context'\nimport { AppState } from '../../types'\nimport useStyles from './styles'\n\nexport default function Country() {\n  const { theme } = useContext(ThemeContext)\n  const { name } = useParams()\n  const history = useHistory()\n  const classes = useStyles()\n\n  const country = useSelector((state: AppState) =>\n    state.countries.countries.find(\n      (country) => country.name.toLowerCase() === name.toLowerCase()\n    )\n  )\n  if (!country) {\n    return <div>Country not available</div>\n  }\n  return (\n    <Container\n      className={classes.container}\n      maxWidth={false}\n      style={{ backgroundColor: theme.color }}\n    >\n      <img className={classes.img} src={country.flag} alt={country.name} />\n      <Typography variant=\"h5\">{country.name}</Typography>\n      <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n        Population\n      </Typography>\n      <Typography variant=\"body1\">\n        {new Intl.NumberFormat('fi-FI', { useGrouping: true }).format(\n          country.population\n        )}\n      </Typography>\n      <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n        Languages\n      </Typography>\n      <Typography variant=\"body1\">\n        {country.languages.map((language) => language.name).join(', ')}\n      </Typography>\n      <Typography variant=\"body1\" style={{ fontWeight: 'bold' }}>\n        Region\n      </Typography>\n      <Typography gutterBottom variant=\"body1\">\n        {country.region}\n      </Typography>\n      <Button\n        variant=\"contained\"\n        style={{ backgroundColor: 'white' }}\n        onClick={() => history.goBack()}\n      >\n        Go back\n      </Button>\n    </Container>\n  )\n}\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\n\nimport Home from './pages/Home'\nimport Country from './pages/Country/Country'\n\nconst Routes = () => (\n  <Switch>\n    <Route exact path=\"/react-redux-countries-app\" component={Home} />\n    <Route\n      exact\n      path=\"/react-redux-countries-app/country/:name\"\n      component={Country}\n    />\n  </Switch>\n)\n\nexport default Routes\n","import React, { useState } from 'react'\n\nimport Routes from './Routes'\nimport ThemeContext, { themes } from './context'\n\nexport default function App() {\n  const [context, setContext] = useState({\n    theme: themes.red,\n    switchTheme: (color: string) => {\n      setContext((current) => ({\n        ...current,\n        theme:\n          color === themes.blue.color\n            ? themes.blue\n            : color === themes.hazel.color\n              ? themes.hazel\n              : color === themes.yellow.color\n                ? themes.yellow\n                : themes.red,\n      }))\n    },\n  })\n\n  return (\n    <ThemeContext.Provider value={context}>\n      <Routes />\n    </ThemeContext.Provider>\n  )\n}\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import {\r\n  CountriesAction,\r\n  CountriesState,\r\n  FETCH_COUNTRIES_SUCCEED,\r\n  FETCH_COUNTRIES_FAIL,\r\n  ADD_COUNTRY,\r\n  REMOVE_COUNTRY,\r\n} from '../../types'\r\n\r\nfunction countriesReducer(\r\n  state: CountriesState = {\r\n    inCart: [],\r\n    countries: [],\r\n    exception: undefined,\r\n  },\r\n  action: CountriesAction\r\n): CountriesState {\r\n  switch (action.type) {\r\n    \r\n  case FETCH_COUNTRIES_SUCCEED: {\r\n    const { countries } = action.payload\r\n    return { ...state, countries: [...countries] }\r\n  }\r\n\r\n  case FETCH_COUNTRIES_FAIL: {\r\n    const { exception } = action.payload\r\n    return { ...state, exception: exception }\r\n  }\r\n\r\n  case ADD_COUNTRY: {\r\n    const { country } = action.payload\r\n    return { ...state, inCart: [...state.inCart, country] }\r\n  }\r\n\r\n  case REMOVE_COUNTRY: {\r\n    const { name } = action.payload\r\n    // filter out the country from inCart\r\n    const newInCart = state.inCart.filter(country => country.name !== name )\r\n    return { ...state, inCart: [...newInCart] }\r\n  }\r\n\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default countriesReducer\r\n","import { UiState, UiAction, SEARCH_COUNTRY, TOGGLE_MENU } from './../../types'\r\n\r\nfunction uiReducer(\r\n  state: UiState = {\r\n    searchKey: '',\r\n    isMenuOpened: false,\r\n  },\r\n  action: UiAction\r\n): UiState {\r\n  switch (action.type) {\r\n  case SEARCH_COUNTRY: {\r\n    const { searchKey } = action.payload\r\n    return { ...state, searchKey: searchKey }\r\n  }\r\n  case TOGGLE_MENU: {\r\n    const { isMenuOpened } = action.payload\r\n    return { ...state, isMenuOpened: isMenuOpened }\r\n  }\r\n\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default uiReducer\r\n","import { combineReducers } from 'redux'\r\n\r\nimport countriesReducer from './countries'\r\nimport uiReducer from './ui'\r\n\r\nconst createRootReducer = () =>\r\n  combineReducers({\r\n    countries: countriesReducer,\r\n    ui: uiReducer\r\n  })\r\n\r\nexport default createRootReducer\r\n","import { takeLatest, call, put } from 'redux-saga/effects'\r\n\r\nimport { FETCH_COUNTRIES_FROM_SAGA, Country } from './../../types'\r\nimport { fetchCountriesSucceed, fetchCountriesFail } from '../actions'\r\n\r\nfunction* fetchCountries() {\r\n  try {\r\n    const allCountries: Country[] = yield call(getAllCountries)\r\n    // sort name in ascending order\r\n    const sortedCountries = allCountries.sort((a,b) => (a.name > b.name)? 1: -1) \r\n    yield put(fetchCountriesSucceed(sortedCountries))\r\n  } catch (exception) {\r\n    yield put(fetchCountriesFail(exception))\r\n  }\r\n}\r\n\r\nasync function getAllCountries() {\r\n  const URL = 'https://restcountries.eu/rest/v2/all'\r\n  const cacheStorage = await caches.open('AllCountries')\r\n  let cacheResponse = await cacheStorage.match(URL)\r\n\r\n  if (!cacheResponse || !cacheResponse.ok) {\r\n    await cacheStorage.add(URL)\r\n    cacheResponse = await cacheStorage.match(URL)\r\n  }\r\n\r\n  return await cacheResponse?.json()\r\n}\r\n\r\nexport default [takeLatest(FETCH_COUNTRIES_FROM_SAGA, fetchCountries)]\r\n","import { put, throttle } from 'redux-saga/effects'\r\n\r\nimport { searchCountry } from '../actions'\r\nimport { HANDLE_INPUT_TO_SAGA, HandleInputToSagaAction } from './../../types'\r\n\r\nfunction* sendInputToReducer(action: HandleInputToSagaAction) {\r\n  yield put(searchCountry(action.payload.searchKey))\r\n}\r\n\r\n// only send dispatch every 1 second, ignore everything in the meantime\r\nexport default [throttle(1000, HANDLE_INPUT_TO_SAGA, sendInputToReducer)]\r\n","import { all } from 'redux-saga/effects'\r\n\r\nimport countriesSagas from './countries'\r\nimport uiSagas from './ui'\r\n\r\nexport default function* rootSaga() {\r\n  yield all([...countriesSagas, ...uiSagas])\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport thunk from 'redux-thunk'\n\nimport { AppState } from '../types'\nimport createRootReducer from './reducers'\nimport rootSaga from './sagas'\n\nconst initState: AppState = {\n  countries: {\n    inCart: [],\n    countries: [],\n    exception: undefined,\n  },\n  ui: {\n    searchKey: '',\n    isMenuOpened: false,\n  },\n}\n\nexport default function makeStore(initialState = initState) {\n  const sagaMiddleware = createSagaMiddleware()\n  const middlewares = [sagaMiddleware, thunk]\n  let composeEnhancers = compose\n\n  if (process.env.NODE_ENV === 'development') {\n    if ((window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\n      composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        trace: true,\n        traceLimit: 25,\n      })\n    }\n  }\n\n  const store = createStore(\n    createRootReducer(),\n    initialState,\n    composeEnhancers(applyMiddleware(...middlewares))\n  )\n\n  sagaMiddleware.run(rootSaga)\n\n  if ((module as any).hot) {\n    ;(module as any).hot.accept('./reducers', () => {\n      const nextReducer = require('./reducers').default\n      store.replaceReducer(nextReducer)\n    })\n  }\n\n  return store\n}\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport makeStore from './redux/store'\r\n\r\nconst store = makeStore()\r\n\r\nconst WithProvider = () => (\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>\r\n)\r\n\r\nReactDOM.render(<WithProvider />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}